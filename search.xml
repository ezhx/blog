<?xml version="1.0" encoding="utf-8"?>
<search>
  <entry>
    <title>session</title>
    <url>/blog/java/session/</url>
    <content><![CDATA[<h2 id="åŸç†"><a href="#åŸç†" class="headerlink" title="åŸç†"></a>åŸç†</h2><p>æœåŠ¡ç«¯ä¸ºæ¯ä¸€ä¸ªsessionç»´æŠ¤ä¸€ä»½ä¼šè¯ä¿¡æ¯æ•°æ®ï¼Œè€Œå®¢æˆ·ç«¯å’ŒæœåŠ¡ç«¯ä¾é ä¸€ä¸ªå…¨å±€å”¯ä¸€çš„æ ‡è¯†æ¥è®¿é—®ä¼šè¯ä¿¡æ¯æ•°æ®</p>
<h2 id="åˆ›å»ºsessionä¸‰ä¸ªæ­¥éª¤"><a href="#åˆ›å»ºsessionä¸‰ä¸ªæ­¥éª¤" class="headerlink" title="åˆ›å»ºsessionä¸‰ä¸ªæ­¥éª¤"></a>åˆ›å»ºsessionä¸‰ä¸ªæ­¥éª¤</h2><ol>
<li>ç”Ÿæˆå…¨å±€å”¯ä¸€æ ‡è¯†ç¬¦(sessionid)ï¼›</li>
<li>å¼€è¾Ÿæ•°æ®å­˜å‚¨ç©ºé—´ã€‚ä¸€èˆ¬ä¼šåœ¨å†…å­˜ä¸­åˆ›å»ºç›¸åº”çš„æ•°æ®ç»“æ„</li>
<li>å°†sessionçš„å…¨å±€å”¯ä¸€æ ‡ç¤ºç¬¦å‘é€ç»™å®¢æˆ·ç«¯ã€‚</li>
</ol>
<h2 id="å¦‚ä½•å°†sessionä¼ é€’ç»™å®¢æˆ·ç«¯ï¼š"><a href="#å¦‚ä½•å°†sessionä¼ é€’ç»™å®¢æˆ·ç«¯ï¼š" class="headerlink" title="å¦‚ä½•å°†sessionä¼ é€’ç»™å®¢æˆ·ç«¯ï¼š"></a>å¦‚ä½•å°†sessionä¼ é€’ç»™å®¢æˆ·ç«¯ï¼š</h2><ol>
<li>cookie<blockquote>
<p>æœåŠ¡ç«¯åªè¦è®¾ç½®Set-cookieå¤´å°±å¯ä»¥å°†sessionçš„æ ‡è¯†ç¬¦ä¼ é€åˆ°å®¢æˆ·ç«¯ï¼Œè€Œå®¢æˆ·ç«¯æ­¤åçš„æ¯ä¸€æ¬¡è¯·æ±‚éƒ½ä¼šå¸¦ä¸Šè¿™ä¸ªæ ‡è¯†ç¬¦ï¼Œç”±äºcookieå¯ä»¥è®¾ç½®å¤±æ•ˆæ—¶é—´ï¼Œæ‰€ä»¥ä¸€èˆ¬åŒ…å«sessionä¿¡æ¯çš„cookieä¼šè®¾ç½®å¤±æ•ˆæ—¶é—´ä¸º0ï¼Œ</p>
</blockquote>
</li>
<li>urlé‡å†™<blockquote>
<p>åœ¨è¿”å›ç”¨æˆ·è¯·æ±‚çš„é¡µé¢ä¹‹å‰ï¼Œå°†é¡µé¢å†…æ‰€æœ‰çš„URLåé¢å…¨éƒ¨ä»¥getå‚æ•°çš„æ–¹å¼åŠ ä¸Šsessionæ ‡è¯†ç¬¦<br>è¿™æ ·ç”¨æˆ·åœ¨æ”¶åˆ°å“åº”ä¹‹åï¼Œæ— è®ºç‚¹å‡»å“ªä¸ªé“¾æ¥æˆ–æäº¤è¡¨å•ï¼Œéƒ½ä¼šåœ¨å†å¸¦ä¸Šsessionçš„æ ‡è¯†ç¬¦ï¼Œä»è€Œå°±å®ç°äº†ä¼šè¯çš„ä¿æŒ<br>è¿™ç§åšæ³•æ¯”è¾ƒéº»çƒ¦ï¼Œç¡®å®æ˜¯è¿™æ ·ï¼Œä½†æ˜¯ï¼Œå¦‚æœå®¢æˆ·ç«¯ç¦ç”¨äº†cookieçš„è¯ï¼ŒURLé‡å†™å°†ä¼šæ˜¯é¦–é€‰ã€‚</p>
</blockquote>
</li>
</ol>
<h2 id="sessionä¿æ´»"><a href="#sessionä¿æ´»" class="headerlink" title="sessionä¿æ´»"></a>sessionä¿æ´»</h2><blockquote>
<p>å½“é¦–æ¬¡åˆ›å»ºäº†sessionåï¼Œå®¢æˆ·ç«¯ä¼šåœ¨åç»­çš„è¯·æ±‚ä¸­å°†sessionçš„æ ‡è¯†ç¬¦å¸¦åˆ°æœåŠ¡ç«¯ï¼ŒæœåŠ¡ç«¯ç¨‹åºåªè¦åœ¨éœ€è¦sessionçš„æ—¶å€™è°ƒç”¨getSessionï¼ŒæœåŠ¡ç«¯å°±å¯ä»¥å°†å¯¹åº”çš„sessionç»‘å®šåˆ°å½“å‰è¯·æ±‚ï¼Œä»è€Œå®ç°çŠ¶æ€çš„ä¿æŒ</p>
</blockquote>
<h2 id="sessioné”€æ¯"><a href="#sessioné”€æ¯" class="headerlink" title="sessioné”€æ¯"></a>sessioné”€æ¯</h2><ul>
<li>è‡ªåŠ¨ï¼š<blockquote>
<p>tomcatä¸­é»˜è®¤ä¿å­˜30åˆ†é’Ÿï¼Œæ˜¯æŒ‡sessionåœ¨30åˆ†é’Ÿæ²¡æœ‰è¢«å†æ¬¡ä½¿ç”¨å°±å°†å…¶é”€æ¯ã€‚Tomcatæ˜¯æ€ä¹ˆè®¡ç®—è¿™ä¸ª30åˆ†é’Ÿçš„å‘¢ï¼ŸåŸæ¥åœ¨getSessionä¹‹åï¼Œéƒ½è¦è°ƒç”¨å®ƒçš„accessæ–¹æ³•ï¼Œä¿®æ”¹lastAccessedTimeï¼Œåœ¨é”€æ¯sessionçš„æ—¶å€™å°±æ˜¯åˆ¤æ–­å½“å‰æ—¶é—´å’Œè¿™ä¸ªlastAccessedTimeçš„å·®å€¼ã€‚</p>
</blockquote>
</li>
<li>æ‰‹åŠ¨ï¼š<blockquote>
<p>æ‰‹åŠ¨é”€æ¯æ˜¯æŒ‡ç›´æ¥è°ƒç”¨å…¶invalidateæ–¹æ³•</p>
</blockquote>
</li>
</ul>
]]></content>
      <categories>
        <category>java</category>
      </categories>
      <tags>
        <tag>session</tag>
      </tags>
  </entry>
  <entry>
    <title>hexoåŸºæœ¬ä½¿ç”¨</title>
    <url>/blog/hexo/hexo/</url>
    <content><![CDATA[<h2 id="å¸¸ç”¨å‘½ä»¤"><a href="#å¸¸ç”¨å‘½ä»¤" class="headerlink" title="å¸¸ç”¨å‘½ä»¤"></a>å¸¸ç”¨å‘½ä»¤</h2><table>
<thead>
<tr>
<th>å‘½ä»¤</th>
<th>ä½œç”¨</th>
</tr>
</thead>
<tbody><tr>
<td>npm install -g hexo-cli</td>
<td>å®‰è£…</td>
</tr>
<tr>
<td>hexo init &lt;folder&gt;</td>
<td>åˆå§‹åŒ–</td>
</tr>
<tr>
<td>hexo s</td>
<td>å¯åŠ¨</td>
</tr>
<tr>
<td>hexo new [layout] &lt;title&gt;</td>
<td>æ–°å»ºæ–‡ä»¶ï¼Œ<code>layout</code>é»˜è®¤ä½¿ç”¨ _config.yml ä¸­çš„ default_layout å‚æ•°ä»£æ›¿</td>
</tr>
<tr>
<td>hexo clean</td>
<td>æ¸…ç†æ‰“åŒ…æ–‡ä»¶</td>
</tr>
<tr>
<td>hexo p</td>
<td>å‘è¡¨è‰ç¨¿ï¼Œå³å°†æ–‡ä»¶ä»_draftè½¬ç§»åˆ°_post</td>
</tr>
<tr>
<td>hexo g</td>
<td>æ‰“åŒ…</td>
</tr>
<tr>
<td>hexo d</td>
<td>éƒ¨ç½²</td>
</tr>
</tbody></table>
<h2 id="ç›®å½•ç»“æ„"><a href="#ç›®å½•ç»“æ„" class="headerlink" title="ç›®å½•ç»“æ„"></a>ç›®å½•ç»“æ„</h2><pre class="line-numbers language-none"><code class="language-none">â”œâ”€â”€ .deploy_git     
â”œâ”€â”€ node_modules
â”œâ”€â”€ public
â”œâ”€â”€ scaffolds       æ¨¡æ¿æ–‡ä»¶å¤¹
â”‚   â”œâ”€â”€ draft.md    è‰ç¨¿æ¨¡æ¿
â”‚   â”œâ”€â”€ page.md     é¡µé¢æ¨¡æ¿
â”‚   â””â”€â”€ post.md     é¢„å‘å¸ƒæ–‡ç« æ¨¡æ¿
â”œâ”€â”€ source
â”‚   â”œâ”€â”€ _posts
â”‚   â”œâ”€â”€ _drafts
â”œâ”€â”€ themes          ä¸»é¢˜
â”œâ”€â”€ _config.yml     ç”¨æ¥é…ç½®åšå®¢ç›¸å…³çš„å‚æ•°
â”œâ”€â”€ db.json
â”œâ”€â”€ package.json
â””â”€â”€ package-lock.json<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<h3 id="package-json"><a href="#package-json" class="headerlink" title="package.json"></a>package.json</h3><ul>
<li>hexoï¼šä¸»ç¨‹åº</li>
<li>hexo-deployer-gitï¼šå®ç° git éƒ¨ç½²æ–¹å¼</li>
<li>hexo-generator-archiveï¼šå­˜æ¡£é¡µé¢ç”Ÿæˆå™¨</li>
<li>hexo-generator-categoryï¼šåˆ†ç±»é¡µé¢ç”Ÿæˆå™¨</li>
<li>hexo-generator-indexï¼šindex ç”Ÿæˆå™¨</li>
<li>hexo-generator-tagï¼šæ ‡ç­¾é¡µé¢ç”Ÿæˆå™¨</li>
<li>hexo-renderer-ejsï¼šæ”¯æŒ EJS æ¸²æŸ“</li>
<li>hexo-renderer-markedï¼šMarkdown å¼•æ“</li>
<li>hexo-renderer-stylusï¼šæ”¯æŒ stylus æ¸²æŸ“</li>
<li>hexo-serverï¼šæ”¯æŒæœ¬åœ°é¢„è§ˆï¼Œé»˜è®¤åœ°å€ localhost:4000</li>
</ul>
<h3 id="source-ï¼Œ-public-å’Œ-deploy-git"><a href="#source-ï¼Œ-public-å’Œ-deploy-git" class="headerlink" title="source ï¼Œ public å’Œ .deploy_git"></a>source ï¼Œ public å’Œ .deploy_git</h3><ul>
<li>sourceï¼šèµ„æºæ–‡ä»¶å¤¹ã€‚ç”¨æ¥å­˜æ”¾å›¾ç‰‡ã€Markdown æ–‡æ¡£ï¼ˆæ–‡ç« ã€è‰ç¨¿ï¼‰ã€å„ç§é¡µé¢ï¼ˆåˆ†ç±»ã€å…³äºé¡µé¢ç­‰ï¼‰ã€‚</li>
<li>publicï¼šå°† source æ–‡ä»¶å¤¹é‡Œçš„ Markdown æ–‡æ¡£ï¼Œè½¬æ¢æˆ index.htmlã€‚å†ç»“åˆä¸»é¢˜è¿›è¡Œæ¸²æŸ“ï¼Œå°±æ˜¯æˆ‘ä»¬æœ€ç»ˆçœ‹åˆ°çš„åšå®¢ã€‚</li>
<li>.deploy_gitï¼šå°† public æ–‡ä»¶å¤¹çš„å†…å®¹æäº¤åˆ° Github åç”Ÿæˆï¼Œå†…å®¹ä¸ public æ–‡ä»¶å¤¹åŸºæœ¬ä¸€è‡´ã€‚</li>
</ul>
<p>è¿™ä¸‰è€…çš„å…³ç³»å¤§è‡´æ˜¯ï¼šsource -&gt; public -&gt; .deploy_git</p>
<ul>
<li>æ‰§è¡Œhexo generateï¼Œæ ¹æ® sourceï¼Œæ›´æ–° publicã€‚</li>
<li>æ‰§è¡Œhexo deployï¼Œæ ¹æ® publicï¼Œæ›´æ–° .deploy_git</li>
</ul>
]]></content>
      <categories>
        <category>hexo</category>
      </categories>
      <tags>
        <tag>hexo</tag>
      </tags>
  </entry>
  <entry>
    <title>markdownåŸºæœ¬ä½¿ç”¨</title>
    <url>/blog/others/markdown/</url>
    <content><![CDATA[<h2 id="å­—ä½“"><a href="#å­—ä½“" class="headerlink" title="å­—ä½“"></a>å­—ä½“</h2><h3 id="æ–œä½“"><a href="#æ–œä½“" class="headerlink" title="æ–œä½“"></a>æ–œä½“</h3><p><code>*æ–œä½“* _æ–œä½“_</code><br><em>æ–œä½“</em> <em>æ–œä½“</em></p>
<br/>  

<h3 id="åŠ ç²—"><a href="#åŠ ç²—" class="headerlink" title="åŠ ç²—"></a>åŠ ç²—</h3><p><code>**åŠ ç²—**</code><br><strong>åŠ ç²—</strong></p>
<br/>

<h3 id="æ–œä½“åŠ ç²—"><a href="#æ–œä½“åŠ ç²—" class="headerlink" title="æ–œä½“åŠ ç²—"></a>æ–œä½“åŠ ç²—</h3><p><code>***æ–œä½“åŠ ç²—***</code><br><em><strong>æ–œä½“åŠ ç²—</strong></em></p>
<br/>

<h3 id="åˆ é™¤çº¿"><a href="#åˆ é™¤çº¿" class="headerlink" title="åˆ é™¤çº¿"></a>åˆ é™¤çº¿</h3><p><code>~~åˆ é™¤çº¿~~</code><br><del>åˆ é™¤çº¿</del></p>
<br/>

<h3 id="htmlã€css"><a href="#htmlã€css" class="headerlink" title="htmlã€css"></a>htmlã€css</h3><p><code>&lt;font style=&quot;background:green;&quot; color=&quot;red&quot; face=&quot;é»‘ä½“&quot;&gt;é»‘ä½“red&lt;/font&gt;</code><br><font style="background:#000;font-size:30px" color="red" face="é»‘ä½“">é»‘ä½“red</font></p>
<br/>

<hr>
<br/>

<h2 id="æ ‡é¢˜"><a href="#æ ‡é¢˜" class="headerlink" title="æ ‡é¢˜"></a>æ ‡é¢˜</h2><pre class="line-numbers language-none"><code class="language-none"># ä¸€çº§æ ‡é¢˜
## äºŒçº§æ ‡é¢˜
### ä¸‰çº§æ ‡é¢˜<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre>

<br/>

<hr>
<br/>

<h2 id="é“¾æ¥"><a href="#é“¾æ¥" class="headerlink" title="é“¾æ¥"></a>é“¾æ¥</h2><pre class="line-numbers language-none"><code class="language-none">![å›¾ç‰‡æè¿°](https:&#x2F;&#x2F;ali-imgs.acfun.cn&#x2F;kos&#x2F;nlav10360&#x2F;static&#x2F;common&#x2F;widget&#x2F;header&#x2F;img&#x2F;acfunlogo.11a9841251f31e1a3316.svg)<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<p><img src="https://ali-imgs.acfun.cn/kos/nlav10360/static/common/widget/header/img/acfunlogo.11a9841251f31e1a3316.svg"></p>
<br/>

<pre class="line-numbers language-none"><code class="language-none">&lt;https:&#x2F;&#x2F;ali-imgs.acfun.cn&#x2F;kos&#x2F;nlav10360&#x2F;static&#x2F;common&#x2F;widget&#x2F;header&#x2F;img&#x2F;acfunlogo.11a9841251f31e1a3316.svg&gt;<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<p><a href="https://ali-imgs.acfun.cn/kos/nlav10360/static/common/widget/header/img/acfunlogo.11a9841251f31e1a3316.svg">https://ali-imgs.acfun.cn/kos/nlav10360/static/common/widget/header/img/acfunlogo.11a9841251f31e1a3316.svg</a></p>
<br/>

<hr>
<br/>

<h2 id="åˆ†å‰²çº¿"><a href="#åˆ†å‰²çº¿" class="headerlink" title="åˆ†å‰²çº¿"></a>åˆ†å‰²çº¿</h2><pre class="line-numbers language-none"><code class="language-none">---
***
___<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre>

<br/>

<hr>
<br/>

<h2 id="ä»£ç å—"><a href="#ä»£ç å—" class="headerlink" title="ä»£ç å—"></a>ä»£ç å—</h2><pre class="line-numbers language-none"><code class="language-none">1. å››ä¸ªç©ºæ ¼
2. ä¸€ä¸ªåˆ¶è¡¨ç¬¦
3. &#96; &#96;
4. &#96;&#96;&#96; &#96;&#96;&#96;<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre>

<br/>

<hr>
<br/>

<h2 id="å¼•ç”¨"><a href="#å¼•ç”¨" class="headerlink" title="å¼•ç”¨"></a>å¼•ç”¨</h2><p>&gt;<br>&gt;&gt;<br>&gt;&gt;&gt;</p>
<blockquote>
<p>å¼•ç”¨1</p>
<blockquote>
<p>å¼•ç”¨2</p>
<blockquote>
<p>å¼•ç”¨3</p>
</blockquote>
</blockquote>
</blockquote>
<br/>

<hr>
<br/>

<h2 id="åˆ—è¡¨"><a href="#åˆ—è¡¨" class="headerlink" title="åˆ—è¡¨"></a>åˆ—è¡¨</h2><h3 id="æ— åºåˆ—è¡¨"><a href="#æ— åºåˆ—è¡¨" class="headerlink" title="æ— åºåˆ—è¡¨"></a>æ— åºåˆ—è¡¨</h3><p>- æ— åºåˆ—è¡¨<br>* æ— åºåˆ—è¡¨<br>+ æ— åºåˆ—è¡¨</p>
<ul>
<li>æ— åºåˆ—è¡¨</li>
</ul>
<ul>
<li>æ— åºåˆ—è¡¨</li>
</ul>
<ul>
<li>æ— åºåˆ—è¡¨</li>
</ul>
<br/>

<h3 id="æœ‰åºåˆ—è¡¨"><a href="#æœ‰åºåˆ—è¡¨" class="headerlink" title="æœ‰åºåˆ—è¡¨"></a>æœ‰åºåˆ—è¡¨</h3><ol>
<li>æœ‰åºåˆ—è¡¨</li>
<li>æœ‰åºåˆ—è¡¨</li>
</ol>
<br/>

]]></content>
      <categories>
        <category>others</category>
      </categories>
      <tags>
        <tag>markdown</tag>
      </tags>
  </entry>
  <entry>
    <title>LocalStorageã€SessionStorageã€Cookies</title>
    <url>/blog/javascript/localstorage-sessionstorage-cookies/</url>
    <content><![CDATA[<h2 id="Cookies"><a href="#Cookies" class="headerlink" title="Cookies"></a>Cookies</h2><h3 id="åº”ç”¨åœºæ™¯"><a href="#åº”ç”¨åœºæ™¯" class="headerlink" title="åº”ç”¨åœºæ™¯"></a>åº”ç”¨åœºæ™¯</h3><ul>
<li>é…åˆæœåŠ¡ç«¯Sessionæ¥è¿›è¡Œç”¨æˆ·è®¤è¯<blockquote>
<p>å½“å®¢æˆ·ç«¯åˆæ¬¡ç™»å½•æ—¶ï¼Œä¼šå°†è´¦æˆ·ä¿¡æ¯å‘é€ç»™æœåŠ¡ç«¯<br>æœåŠ¡ç«¯æ¥æ”¶åï¼Œä¼šç”Ÿæˆä¸€ä¸ªsessionIDï¼Œæ¯ä¸ªsessionIDå¯¹åº”ä¸€ä¸ªsessionä¿¡æ¯ï¼Œç„¶ååœ¨response.headersä¸­æ·»åŠ Set-cookieå±æ€§ï¼Œå°†sessionIDèµ‹å€¼ç»™è¯¥å±æ€§ï¼Œå¹¶è¿”å›ç»™å®¢æˆ·ç«¯<br><code>Set-cookie:JSESSIONID=sessionID;expires=date;path=path;domain=domain</code><br>å®¢æˆ·ç«¯æ”¶åˆ°è¿”å›æ¶ˆæ¯åï¼Œä¼šè‡ªåŠ¨ç”ŸæˆCookiesï¼Œå¹¶åœ¨ä¹‹åçš„æ¯æ¬¡è¯·æ±‚ä¸­è‡ªåŠ¨åœ¨request.headersä¸­æºå¸¦è¯¥Cookies<br>æœåŠ¡ç«¯å†æ¬¡æ”¶åˆ°è¯·æ±‚åï¼Œæ ¹æ®ä¼ æ¥çš„Cookiesä¸­åŒ…å«çš„sessionIDï¼Œå»åŒ¹é…å¯¹åº”çš„sessionä¿¡æ¯ï¼Œä»è€Œå®ç°ç”¨æˆ·è®¤è¯</p>
</blockquote>
</li>
</ul>
<h3 id="å±æ€§"><a href="#å±æ€§" class="headerlink" title="å±æ€§"></a>å±æ€§</h3><ul>
<li><p>expires</p>
<blockquote>
<p>æœ‰æ•ˆæœŸï¼Œå¦‚expires&#x3D;Sun, 28 Aug 2022 01:00:00 GMTè¡¨ç¤ºcookieè®²åœ¨2022å¹´8æœˆ28æ—¥1:00åˆ†ä¹‹åå¤±æ•ˆï¼Œå¯¹äºå¤±æ•ˆçš„cookieæµè§ˆå™¨ä¼šæ¸…ç©ºã€‚å¦‚æœæ²¡æœ‰è®¾ç½®è¯¥é€‰é¡¹ï¼Œåˆ™é»˜è®¤æœ‰æ•ˆæœŸä¸ºsessionï¼Œå³ä¼šè¯cookieã€‚è¿™ç§cookieåœ¨æµè§ˆå™¨å…³é—­åå°±æ²¡æœ‰äº†ã€‚<br>expires æ˜¯ http&#x2F;1.0åè®®ä¸­çš„é€‰é¡¹ï¼Œåœ¨æ–°çš„http&#x2F;1.1åè®®ä¸­expireså·²ç»ç”± max-age é€‰é¡¹ä»£æ›¿ï¼Œä¸¤è€…çš„ä½œç”¨éƒ½æ˜¯é™åˆ¶cookie çš„æœ‰æ•ˆæ—¶é—´ã€‚expiresçš„å€¼æ˜¯ä¸€ä¸ªæ—¶é—´ç‚¹ï¼ˆcookieå¤±æ•ˆæ—¶åˆ»&#x3D; expiresï¼‰ï¼Œè€Œmax-age çš„å€¼æ˜¯ä¸€ä¸ªä»¥ç§’ä¸ºå•ä½æ—¶é—´æ®µï¼ˆcookieå¤±æ•ˆæ—¶åˆ»&#x3D; åˆ›å»ºæ—¶åˆ»+ max-ageï¼‰ã€‚<br>å¦å¤–ï¼Œmax-age çš„é»˜è®¤å€¼æ˜¯ -1(å³æœ‰æ•ˆæœŸä¸º session )ï¼›max-ageæœ‰ä¸‰ç§å¯èƒ½å€¼ï¼šè´Ÿæ•°ã€0ã€æ­£æ•°ã€‚è´Ÿæ•°ï¼šæœ‰æ•ˆæœŸsessionï¼›0ï¼šåˆ é™¤cookieï¼›æ­£æ•°ï¼šæœ‰æ•ˆæœŸä¸ºåˆ›å»ºæ—¶åˆ»+ max-age</p>
</blockquote>
</li>
<li><p>domainã€path</p>
<blockquote>
<p>domainæ˜¯åŸŸåï¼Œpathæ˜¯è·¯å¾„ï¼Œä¸¤è€…åŠ èµ·æ¥å°±æ„æˆäº† URLï¼Œdomainå’Œpathä¸€èµ·æ¥é™åˆ¶ cookie èƒ½è¢«å“ªäº› URL è®¿é—®ã€‚<br>æŸcookieçš„ domainä¸ºâ€œbaidu.comâ€, pathä¸ºâ€œ&#x2F; â€ï¼Œè‹¥è¯·æ±‚çš„URLçš„åŸŸåæ˜¯â€œbaidu.comâ€æˆ–å…¶å­åŸŸå¦‚â€œapi.baidu.comâ€ã€â€œdev.api.baidu.comâ€ï¼Œä¸” URL çš„è·¯å¾„æ˜¯â€œ&#x2F; â€æˆ–å­è·¯å¾„â€œ&#x2F;homeâ€ã€â€œ&#x2F;home&#x2F;loginâ€ï¼Œåˆ™æµè§ˆå™¨ä¼šå°†æ­¤ cookie æ·»åŠ åˆ°è¯¥è¯·æ±‚çš„ cookie å¤´éƒ¨ä¸­ã€‚<br>æ‰€ä»¥domainå’Œpath2ä¸ªé€‰é¡¹å…±åŒå†³å®šäº†cookieä½•æ—¶è¢«æµè§ˆå™¨è‡ªåŠ¨æ·»åŠ åˆ°è¯·æ±‚å¤´éƒ¨ä¸­å‘é€å‡ºå»ã€‚å¦‚æœæ²¡æœ‰è®¾ç½®è¿™ä¸¤ä¸ªé€‰é¡¹ï¼Œåˆ™ä¼šä½¿ç”¨é»˜è®¤å€¼ã€‚domainçš„é»˜è®¤å€¼ä¸ºè®¾ç½®è¯¥cookieçš„ç½‘é¡µæ‰€åœ¨çš„åŸŸåï¼Œpathé»˜è®¤å€¼ä¸ºè®¾ç½®è¯¥cookieçš„ç½‘é¡µæ‰€åœ¨çš„ç›®å½•ã€‚</p>
<blockquote>
<p>domainå‰é¢å¸¦ç‚¹â€˜.â€™å’Œä¸å¸¦ç‚¹â€˜.â€™åŒºåˆ«ï¼š<br>å¸¦ç‚¹ï¼šä»»ä½• subdomain éƒ½å¯ä»¥è®¿é—®ï¼ŒåŒ…æ‹¬çˆ¶ domain<br>ä¸å¸¦ç‚¹ï¼šåªæœ‰å®Œå…¨ä¸€æ ·çš„åŸŸåæ‰èƒ½è®¿é—®ï¼Œsubdomain ä¸èƒ½ï¼ˆä½†åœ¨ IE ä¸‹æ¯”è¾ƒç‰¹æ®Šï¼Œå®ƒæ”¯æŒ subdomain è®¿é—®ï¼‰</p>
</blockquote>
</blockquote>
</li>
<li><p>httpOnly</p>
<blockquote>
<p>åœ¨å®¢æˆ·ç«¯æ˜¯ä¸èƒ½é€šè¿‡jsä»£ç å»è®¾ç½®ä¸€ä¸ªhttpOnlyç±»å‹çš„cookieçš„ï¼Œè¿™ç§ç±»å‹çš„cookieåªèƒ½é€šè¿‡æœåŠ¡ç«¯æ¥è®¾ç½®ã€‚<br>å½“cookieå¸¦httpOnlyé€‰é¡¹æ—¶ï¼Œå®¢æˆ·ç«¯åˆ™æ— æ³•é€šè¿‡jsä»£ç å»è®¿é—®ï¼ˆåŒ…æ‹¬è¯»å–ã€ä¿®æ”¹ã€åˆ é™¤ç­‰ï¼‰è¿™ä¸ªcookieã€‚<br>ä¸è®©è¯»å–åŸå› ï¼šå½“æˆ‘ä»¬çš„ç½‘é¡µé­å—äº† XSS æ”»å‡»ï¼Œæœ‰ä¸€æ®µæ¶æ„çš„scriptè„šæœ¬æ’åˆ°äº†ç½‘é¡µä¸­ã€‚è¿™æ®µscriptè„šæœ¬åšçš„äº‹æƒ…æ˜¯ï¼šé€šè¿‡document.cookieè¯»å–äº†ç”¨æˆ·èº«ä»½éªŒè¯ç›¸å…³çš„ cookieï¼Œå¹¶å°†è¿™äº› cookie å‘é€åˆ°äº†æ”»å‡»è€…çš„æœåŠ¡å™¨ã€‚</p>
</blockquote>
</li>
</ul>
<h3 id="æ–¹æ³•"><a href="#æ–¹æ³•" class="headerlink" title="æ–¹æ³•"></a>æ–¹æ³•</h3><ul>
<li><p>æ·»åŠ </p>
<pre class="line-numbers language-javascript" data-language="javascript"><code class="language-javascript">document<span class="token punctuation">.</span>cookie<span class="token operator">=</span><span class="token string">"name=ezhx; expires=Sun, 28 Aug 2022 01:00:00 GMT; domain=baidu.com; path=/"</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
</li>
<li><p>ä¿®æ”¹</p>
<blockquote>
<p>è¦æƒ³ä¿®æ”¹ä¸€ä¸ªcookieï¼Œåªéœ€è¦é‡æ–°èµ‹å€¼å°±è¡Œï¼Œæ—§çš„å€¼ä¼šè¢«æ–°çš„å€¼è¦†ç›–ã€‚ä½†è¦æ³¨æ„ä¸€ç‚¹ï¼Œåœ¨è®¾ç½®æ–°cookieæ—¶ï¼Œpath&#x2F;domainè¿™å‡ ä¸ªé€‰é¡¹ä¸€å®šè¦æ—§cookie ä¿æŒä¸€æ ·ã€‚å¦åˆ™ä¸ä¼šä¿®æ”¹æ—§å€¼ï¼Œè€Œæ˜¯æ·»åŠ äº†ä¸€ä¸ªæ–°çš„ cookieã€‚</p>
</blockquote>
</li>
<li><p>åˆ é™¤</p>
<blockquote>
<p>åˆ é™¤ä¸€ä¸ªcookieä¹Ÿæ˜¯é‡æ–°èµ‹å€¼ï¼Œåªè¦å°†è¿™ä¸ªæ–°cookieçš„expires é€‰é¡¹è®¾ç½®ä¸ºä¸€ä¸ªè¿‡å»çš„æ—¶é—´ç‚¹å°±è¡Œäº†ã€‚ä½†åŒæ ·è¦æ³¨æ„ï¼Œpath&#x2F;domain&#x2F;è¿™å‡ ä¸ªé€‰é¡¹ä¸€å®šè¦æ—§cookie ä¿æŒä¸€æ ·ã€‚</p>
</blockquote>
</li>
</ul>
<hr>
<h2 id="LocalStorage"><a href="#LocalStorage" class="headerlink" title="LocalStorage"></a>LocalStorage</h2><ul>
<li>è®¾ç½®<pre class="line-numbers language-javascript" data-language="javascript"><code class="language-javascript">localStorage<span class="token punctuation">.</span><span class="token function">setItem</span><span class="token punctuation">(</span><span class="token string">"key"</span><span class="token punctuation">,</span> <span class="token string">"value"</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre></li>
<li>è·å–<pre class="line-numbers language-javascript" data-language="javascript"><code class="language-javascript">localStorage<span class="token punctuation">.</span><span class="token function">getItem</span><span class="token punctuation">(</span><span class="token string">"key"</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre></li>
<li>åˆ é™¤<pre class="line-numbers language-javascript" data-language="javascript"><code class="language-javascript"><span class="token comment">// æ ¹æ®keyåˆ é™¤</span>
localStorage<span class="token punctuation">.</span><span class="token function">removeItem</span><span class="token punctuation">(</span><span class="token string">"key"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// æ¸…ç©ºæ‰€æœ‰</span>
localStorage<span class="token punctuation">.</span><span class="token function">clear</span><span class="token punctuation">(</span><span class="token string">"key"</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre></li>
</ul>
<h2 id="SessionStorage"><a href="#SessionStorage" class="headerlink" title="SessionStorage"></a>SessionStorage</h2><ul>
<li>è®¾ç½®<pre class="line-numbers language-javascript" data-language="javascript"><code class="language-javascript">SessionStorage<span class="token punctuation">.</span><span class="token function">setItem</span><span class="token punctuation">(</span><span class="token string">"key"</span><span class="token punctuation">,</span> <span class="token string">"value"</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre></li>
<li>è·å–<pre class="line-numbers language-javascript" data-language="javascript"><code class="language-javascript">SessionStorage<span class="token punctuation">.</span><span class="token function">getItem</span><span class="token punctuation">(</span><span class="token string">"key"</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre></li>
<li>åˆ é™¤<pre class="line-numbers language-javascript" data-language="javascript"><code class="language-javascript"><span class="token comment">// æ ¹æ®keyåˆ é™¤</span>
SessionStorage<span class="token punctuation">.</span><span class="token function">removeItem</span><span class="token punctuation">(</span><span class="token string">"key"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// æ¸…ç©ºæ‰€æœ‰</span>
SessionStorage<span class="token punctuation">.</span><span class="token function">clear</span><span class="token punctuation">(</span><span class="token string">"key"</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre></li>
</ul>
<h2 id="å¯¹æ¯”"><a href="#å¯¹æ¯”" class="headerlink" title="å¯¹æ¯”"></a>å¯¹æ¯”</h2><table>
<thead>
<tr>
<th>ğŸª</th>
<th>Cookies</th>
<th>LocalStorage</th>
<th>SessionStorage</th>
</tr>
</thead>
<tbody><tr>
<td>å¤§å°</td>
<td>4k</td>
<td>10M</td>
<td>5M</td>
</tr>
<tr>
<td>è®¿é—®</td>
<td>åŒæºçš„ä»»ä½•çª—å£</td>
<td>åŒæºçš„ä»»ä½•çª—å£</td>
<td>åŒä¸€çª—å£</td>
</tr>
<tr>
<td>æœ‰æ•ˆæœŸ</td>
<td>æ‰‹åŠ¨è®¾ç½®</td>
<td>ä¸ä¼šè‡ªåŠ¨è¿‡æœŸï¼Œé™¤éè‡ªå·±åˆ é™¤</td>
<td>çª—å£å…³é—­è‡ªåŠ¨åˆ é™¤</td>
</tr>
</tbody></table>
]]></content>
      <categories>
        <category>javascript</category>
      </categories>
      <tags>
        <tag>Local Storage</tag>
        <tag>Session Storage</tag>
        <tag>Cookies</tag>
      </tags>
  </entry>
  <entry>
    <title>applyã€callã€bind</title>
    <url>/blog/javascript/apply-call-bind/</url>
    <content><![CDATA[<h2 id="ä½œç”¨"><a href="#ä½œç”¨" class="headerlink" title="ä½œç”¨"></a>ä½œç”¨</h2><blockquote>
<p>applyã€callã€bind éƒ½æ˜¯ç”¨æ¥æ”¹å˜ this æŒ‡å‘çš„ï¼Œä¹Ÿå°±æ˜¯æ”¹å˜å‡½æ•°æ‰§è¡Œæ—¶çš„ä¸Šä¸‹æ–‡ç¯å¢ƒã€‚</p>
</blockquote>
<h2 id="è¯­æ³•"><a href="#è¯­æ³•" class="headerlink" title="è¯­æ³•"></a>è¯­æ³•</h2><ul>
<li><p>apply</p>
<pre class="line-numbers language-javascript" data-language="javascript"><code class="language-javascript"><span class="token function">fun</span><span class="token punctuation">.</span><span class="token function">apply</span><span class="token punctuation">(</span> thisArg<span class="token punctuation">,</span> <span class="token punctuation">[</span>argsArray<span class="token punctuation">]</span> <span class="token punctuation">)</span>
<span class="token comment">// è°ƒç”¨ä¸€ä¸ªfunctionå¹¶æŒ‡å®šthisçš„æŒ‡å‘ï¼ˆæ‰§è¡Œä¸Šä¸‹æ–‡ï¼‰ï¼ŒåŒæ—¶æä¾›ä¸€ä¸ªæ•°ç»„æˆ–ç±»æ•°ç»„ï¼ˆå¯é€‰ï¼‰ä½œä¸ºå‚æ•°è§£æ„åˆ°è¢«æ‰§è¡Œ function çš„å‚æ•°é‡Œã€‚</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>
</li>
<li><p>call</p>
<pre class="line-numbers language-javascript" data-language="javascript"><code class="language-javascript"><span class="token function">fun</span><span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span> thisArg<span class="token punctuation">,</span> arg1<span class="token punctuation">,</span> arg2<span class="token punctuation">,</span> <span class="token operator">...</span> <span class="token punctuation">)</span>
<span class="token comment">// è°ƒç”¨ä¸€ä¸ªfunctionå¹¶æŒ‡å®šthisçš„æŒ‡å‘ï¼ˆæ‰§è¡Œä¸Šä¸‹æ–‡ï¼‰ï¼ŒåŒæ—¶æä¾›ä¸€ä¸ªå‚æ•°åˆ—è¡¨ï¼ˆè‹¥å¹²ä¸ªï¼‰ï¼Œä¼ é€’ç»™ function æ‰§è¡Œã€‚</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>
</li>
<li><p>bind</p>
<pre class="line-numbers language-javascript" data-language="javascript"><code class="language-javascript"><span class="token function">fun</span><span class="token punctuation">.</span><span class="token function">bind</span><span class="token punctuation">(</span> thisArg<span class="token punctuation">,</span> arg1<span class="token punctuation">,</span> arg2<span class="token punctuation">,</span> <span class="token operator">...</span> <span class="token punctuation">)</span>
ä¸ä¼šæ‰§è¡Œ funï¼Œè€Œæ˜¯è¿”å›ä¸€ä¸ªæ–°å‡½æ•°ï¼Œæ–°å‡½æ•°çš„ <span class="token keyword">this</span> æŒ‡å‘ bind ç¬¬ä¸€ä¸ªå‚æ•°ï¼Œbind çš„åç»­å‚æ•°ä¼šè¿½åŠ åˆ°æ–°å‡½æ•°å‚æ•°é‡Œã€‚<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre></li>
</ul>
<h2 id="ç›¸åŒç‚¹"><a href="#ç›¸åŒç‚¹" class="headerlink" title="ç›¸åŒç‚¹"></a>ç›¸åŒç‚¹</h2><ol>
<li>applyã€callã€bind éƒ½å¯ä»¥æ”¹å˜thisçš„æŒ‡å‘ï¼Œä¹Ÿå°±æ˜¯ç¬¬ä¸€ä¸ªå‚æ•°thisArgï¼ŒthisArgç†è®ºä¸Šæ˜¯å¿…å¡«çš„ä½†ä¹Ÿå…è®¸ä¸ºç©ºã€‚</li>
<li>å¦‚æœthisArgä¸ºç©º éä¸¥æ ¼æ¨¡å¼ä¸‹thisæŒ‡å‘windowï¼Œä¸¥æ ¼æ¨¡å¼æŒ‡å‘undefinedã€‚</li>
<li>å¦‚æœthisArgæŒ‡å®šä¸º null æˆ– undefinedï¼Œ éä¸¥æ ¼æ¨¡å¼ä¸‹thisæŒ‡å‘windowï¼Œä¸¥æ ¼æ¨¡å¼æŒ‡å‘ä¼ å…¥çš„null æˆ– undefinedã€‚</li>
<li>å¦‚æœthisArgæŒ‡å®šä¸ºåŸå§‹å€¼ éä¸¥æ ¼æ¨¡å¼ä¸‹thisæŒ‡å‘è¯¥åŸå§‹å€¼çš„åŒ…è£…å¯¹è±¡ï¼Œä¸¥æ ¼æ¨¡å¼thisæŒ‡å‘è¯¥åŸå§‹å€¼ã€‚</li>
</ol>
<h2 id="ä¸åŒç‚¹"><a href="#ä¸åŒç‚¹" class="headerlink" title="ä¸åŒç‚¹"></a>ä¸åŒç‚¹</h2><table>
<thead>
<tr>
<th>-</th>
<th>apply</th>
<th>call</th>
<th>bind</th>
</tr>
</thead>
<tbody><tr>
<td>å‚æ•°</td>
<td>åªæ¥æ”¶ä¸¤ä¸ªå‚æ•°ï¼Œç¬¬äºŒä¸ªå‚æ•°æ˜¯ Array ä¼šè¢«è§£æ„</td>
<td>å…è®¸ä¼ å…¥å¤šä¸ªå‚æ•°ï¼Œç¬¬äºŒä¸ªå¼€å§‹ä¸ºå‚æ•°åˆ—è¡¨</td>
<td>å…è®¸ä¼ å…¥å¤šä¸ªå‚æ•°ï¼Œç¬¬äºŒä¸ªå¼€å§‹ä¸ºå‚æ•°åˆ—è¡¨</td>
</tr>
<tr>
<td>æ˜¯å¦ç›´æ¥æ‰§è¡Œå‡½æ•°</td>
<td>âˆš</td>
<td>âˆš</td>
<td>Ã—</td>
</tr>
<tr>
<td>è¿”å›å€¼</td>
<td>è¿”å›è¢«æ‰§è¡Œæ–¹æ³•çš„è¿”å›å€¼ï¼Œè¯¥æ–¹æ³•æ— è¿”å›å€¼åˆ™è¿”å› undefined</td>
<td>è¿”å›è¢«æ‰§è¡Œæ–¹æ³•çš„è¿”å›å€¼ï¼Œè¯¥æ–¹æ³•æ— è¿”å›å€¼åˆ™è¿”å› undefined</td>
<td>è¿”å›æ–°å‡½æ•°</td>
</tr>
</tbody></table>
<h2 id="ç¤ºä¾‹"><a href="#ç¤ºä¾‹" class="headerlink" title="ç¤ºä¾‹"></a>ç¤ºä¾‹</h2><pre class="line-numbers language-javascript" data-language="javascript"><code class="language-javascript"><span class="token keyword">var</span> obj <span class="token operator">=</span> <span class="token punctuation">&#123;</span>
  <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">'obj'</span>
<span class="token punctuation">&#125;</span>
<span class="token keyword">function</span> <span class="token function">fun</span><span class="token punctuation">(</span><span class="token parameter">a<span class="token punctuation">,</span>b<span class="token punctuation">,</span>c<span class="token punctuation">,</span>d</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">,</span> a<span class="token punctuation">,</span>b<span class="token punctuation">,</span>c<span class="token punctuation">,</span>d<span class="token punctuation">)</span>
<span class="token punctuation">&#125;</span>
<span class="token keyword">var</span> <span class="token function-variable function">fun2</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">&#123;</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span>
<span class="token punctuation">&#125;</span>
<span class="token function">fun</span><span class="token punctuation">.</span><span class="token function">apply</span><span class="token punctuation">(</span><span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token comment">// window undefined undefined undefined undefined</span>
<span class="token function">fun</span><span class="token punctuation">.</span><span class="token function">apply</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span> <span class="token comment">// Number&#123;1&#125; undefined undefined undefined undefined</span>
<span class="token function">fun</span><span class="token punctuation">.</span><span class="token function">apply</span><span class="token punctuation">(</span>obj<span class="token punctuation">,</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token string">'a'</span><span class="token punctuation">,</span><span class="token string">'b'</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token comment">// obj 1 2 a b </span>
<span class="token function">fun</span><span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span>obj<span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token string">'a'</span><span class="token punctuation">,</span> <span class="token string">'b'</span><span class="token punctuation">)</span> <span class="token comment">// obj 1 2 a b </span>
<span class="token keyword">var</span> myFun <span class="token operator">=</span> <span class="token function">fun</span><span class="token punctuation">.</span><span class="token function">bind</span><span class="token punctuation">(</span>obj<span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span>
<span class="token function">myFun</span><span class="token punctuation">(</span><span class="token string">'a'</span><span class="token punctuation">,</span> <span class="token string">'b'</span><span class="token punctuation">)</span> <span class="token comment">// obj 1 2 a b </span>

<span class="token function">fun2</span><span class="token punctuation">.</span><span class="token function">apply</span><span class="token punctuation">(</span>obj<span class="token punctuation">)</span> <span class="token comment">// window</span>
<span class="token function">fun2</span><span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span>obj<span class="token punctuation">)</span> <span class="token comment">// window</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>fun2.apply(obj) å’Œ fun2.call(obj) this å¹¶æ²¡æœ‰å‘ç”Ÿå˜åŒ–ï¼Œæ˜¯å› ä¸ºç®­å¤´å‡½æ•°çš„thisä¸èƒ½è¢«æ”¹å˜ï¼Œapplyã€callã€bindå¯¹ç®­å¤´å‡½æ•°æ— æ•ˆã€‚</p>
]]></content>
      <categories>
        <category>javascript</category>
      </categories>
      <tags>
        <tag>apply</tag>
        <tag>call</tag>
        <tag>bind</tag>
      </tags>
  </entry>
  <entry>
    <title>classå…³é”®å­—</title>
    <url>/blog/javascript/class-guan-jian-zi/</url>
    <content><![CDATA[<p><a href="https://segmentfault.com/a/1190000008338987?utm_source=tag-newest">https://segmentfault.com/a/1190000008338987?utm_source=tag-newest</a></p>
<h2 id="classä¼˜åŒ–äº†ä»¥åŸå‹é“¾çš„å½¢å¼å®ç°çš„ç»§æ‰¿"><a href="#classä¼˜åŒ–äº†ä»¥åŸå‹é“¾çš„å½¢å¼å®ç°çš„ç»§æ‰¿" class="headerlink" title="classä¼˜åŒ–äº†ä»¥åŸå‹é“¾çš„å½¢å¼å®ç°çš„ç»§æ‰¿"></a>classä¼˜åŒ–äº†ä»¥åŸå‹é“¾çš„å½¢å¼å®ç°çš„ç»§æ‰¿</h2><pre class="line-numbers language-javascript" data-language="javascript"><code class="language-javascript"><span class="token keyword">function</span> <span class="token function">Student</span><span class="token punctuation">(</span><span class="token parameter">name</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
  <span class="token keyword">this</span><span class="token punctuation">.</span>teacher <span class="token operator">=</span> <span class="token string">'ç‹è€å¸ˆ'</span>
  <span class="token keyword">this</span><span class="token punctuation">.</span>name <span class="token operator">=</span> name
<span class="token punctuation">&#125;</span>
<span class="token class-name">Student</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function-variable function">hello</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">æˆ‘æ˜¯</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">$&#123;</span><span class="token keyword">this</span><span class="token punctuation">.</span>name<span class="token interpolation-punctuation punctuation">&#125;</span></span><span class="token string">ï¼Œæˆ‘çš„è€å¸ˆæ˜¯</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">$&#123;</span><span class="token keyword">this</span><span class="token punctuation">.</span>teacher<span class="token interpolation-punctuation punctuation">&#125;</span></span><span class="token string">ã€‚</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span>
<span class="token punctuation">&#125;</span>
<span class="token keyword">var</span> xiaoming <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Student</span><span class="token punctuation">(</span><span class="token string">'å°æ˜'</span><span class="token punctuation">)</span>
<span class="token keyword">var</span> xiaohong <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Student</span><span class="token punctuation">(</span><span class="token string">'å°çº¢'</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<pre class="line-numbers language-javascript" data-language="javascript"><code class="language-javascript"><span class="token keyword">class</span> <span class="token class-name">Student</span> <span class="token punctuation">&#123;</span>
  <span class="token function">constructor</span><span class="token punctuation">(</span><span class="token parameter">name</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>  <span class="token comment">// æ„é€ å‡½æ•°</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>teacher <span class="token operator">=</span> <span class="token string">'ç‹è€å¸ˆ'</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>name <span class="token operator">=</span> name
  <span class="token punctuation">&#125;</span>
  <span class="token function">hello</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span> <span class="token comment">// å®šä¹‰åœ¨åŸå‹å¯¹è±¡ä¸Šçš„å‡½æ•°</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">æˆ‘æ˜¯</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">$&#123;</span><span class="token keyword">this</span><span class="token punctuation">.</span>name<span class="token interpolation-punctuation punctuation">&#125;</span></span><span class="token string">ï¼Œæˆ‘çš„è€å¸ˆæ˜¯</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">$&#123;</span><span class="token keyword">this</span><span class="token punctuation">.</span>teacher<span class="token interpolation-punctuation punctuation">&#125;</span></span><span class="token string">ã€‚</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span>
  <span class="token punctuation">&#125;</span>
<span class="token punctuation">&#125;</span>
<span class="token keyword">var</span> xiaoming <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Student</span><span class="token punctuation">(</span><span class="token string">'å°æ˜'</span><span class="token punctuation">)</span>
<span class="token keyword">var</span> xiaohong <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Student</span><span class="token punctuation">(</span><span class="token string">'å°çº¢'</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<blockquote>
<p>é€šè¿‡classå…³é”®å­—å®šä¹‰ç±»ä»£ç æ›´ç®€æ´ï¼Œé¿å…äº†æŒ‚è½½prototypeè¿™ç§åˆ†æ•£çš„ä»£ç ã€‚å®é™…ä¸Šå®ƒä»¬æ²¡æœ‰ä»»ä½•åŒºåˆ«ï¼Œclassçš„ä½œç”¨å°±æ˜¯è®©JavaScriptå¼•æ“å»å®ç°åŸæ¥éœ€è¦æˆ‘ä»¬è‡ªå·±ç¼–å†™çš„åŸå‹é“¾ä»£ç ï¼Œä¹Ÿå°±æ˜¯å¯¹åŸå‹å¯¹è±¡è¿ç”¨çš„è¯­æ³•ç³–ã€‚</p>
</blockquote>
]]></content>
      <categories>
        <category>javascript</category>
      </categories>
      <tags>
        <tag>classå…³é”®å­—</tag>
      </tags>
  </entry>
  <entry>
    <title>newå…³é”®å­—</title>
    <url>/blog/javascript/new-guan-jian-zi/</url>
    <content><![CDATA[<h2 id="newå’Œå­—é¢é‡"><a href="#newå’Œå­—é¢é‡" class="headerlink" title="newå’Œå­—é¢é‡"></a>newå’Œå­—é¢é‡</h2><p>æ‰€æœ‰çš„å­—é¢é‡å½¢å¼ç”³æ˜ä¸€ä¸ªå¯¹è±¡ï¼Œéƒ½æ˜¯newçš„è¯­æ³•ç³–</p>
<pre class="line-numbers language-javascript" data-language="javascript"><code class="language-javascript"><span class="token keyword">var</span> obj1 <span class="token operator">=</span> <span class="token punctuation">&#123;</span><span class="token punctuation">&#125;</span>
<span class="token keyword">var</span> obj2 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Object</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
obj1<span class="token punctuation">.</span>__proto__ <span class="token operator">==</span> obj2<span class="token punctuation">.</span>__proto <span class="token operator">==</span> <span class="token class-name">Object</span><span class="token punctuation">.</span>prototype<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre>

<h2 id="æ¦‚å¿µ"><a href="#æ¦‚å¿µ" class="headerlink" title="æ¦‚å¿µ"></a>æ¦‚å¿µ</h2><p>JavaScriptä¸­newæ“ä½œç¬¦ç”¨äºåˆ›å»ºä¸€ä¸ªç»™å®šæ„é€ å‡½æ•°çš„å¯¹è±¡å®ä¾‹</p>
<pre class="line-numbers language-javascript" data-language="javascript"><code class="language-javascript"><span class="token keyword">function</span> <span class="token function">Person</span><span class="token punctuation">(</span><span class="token parameter">name<span class="token punctuation">,</span> age</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>name <span class="token operator">=</span> name<span class="token punctuation">;</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>age <span class="token operator">=</span> age<span class="token punctuation">;</span>
<span class="token punctuation">&#125;</span>
<span class="token keyword">const</span> person1 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Person</span><span class="token punctuation">(</span><span class="token string">"tom"</span><span class="token punctuation">,</span> <span class="token number">20</span><span class="token punctuation">)</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>person1<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// Person &#123;name: 'tom', age: 20&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<h2 id="å®ç°è¿‡ç¨‹"><a href="#å®ç°è¿‡ç¨‹" class="headerlink" title="å®ç°è¿‡ç¨‹"></a>å®ç°è¿‡ç¨‹</h2><ol>
<li>åˆ›å»ºä¸€ä¸ªç©ºå¯¹è±¡objï¼ˆ{}ï¼‰ï¼›</li>
<li>å°†objçš„__proto__å±æ€§æŒ‡å‘æ„é€ å‡½æ•°çš„åŸå‹å¯¹è±¡ï¼ˆå³<code>obj.__proto__ = construct.prototype</code>ï¼‰ã€‚</li>
<li>å°†æ„é€ å‡½æ•°constructå†…éƒ¨çš„thisç»‘å®šåˆ°æ–°å»ºçš„å¯¹è±¡objï¼Œæ‰§è¡Œconstructï¼ˆä¹Ÿå°±æ˜¯è·Ÿè°ƒç”¨æ™®é€šå‡½æ•°ä¸€æ ·ï¼Œåªæ˜¯æ­¤æ—¶å‡½æ•°çš„thisä¸ºæ–°åˆ›å»ºçš„å¯¹è±¡objè€Œå·²ï¼Œå°±å¥½åƒæ‰§è¡Œobj.construct()ä¸€æ ·ï¼‰ï¼›</li>
<li>è‹¥æ„é€ å‡½æ•°æ²¡æœ‰è¿”å›éåŸå§‹å€¼ï¼ˆå³ä¸æ˜¯å¼•ç”¨ç±»å‹çš„å€¼ï¼‰ï¼Œåˆ™è¿”å›è¯¥æ–°å»ºçš„å¯¹è±¡objï¼ˆé»˜è®¤ä¼šæ·»åŠ return thisï¼‰ã€‚å¦åˆ™ï¼Œè¿”å›å¼•ç”¨ç±»å‹çš„å€¼ã€‚</li>
</ol>
<h2 id="ä»£ç å®ç°"><a href="#ä»£ç å®ç°" class="headerlink" title="ä»£ç å®ç°"></a>ä»£ç å®ç°</h2><pre class="line-numbers language-javascript" data-language="javascript"><code class="language-javascript"><span class="token keyword">function</span> <span class="token function">myNew</span><span class="token punctuation">(</span><span class="token parameter">constrc<span class="token punctuation">,</span> <span class="token operator">...</span>args</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
	<span class="token comment">// 1,2 åˆ›å»ºä¸€ä¸ªå¯¹è±¡objï¼Œå°†objçš„[[prototype]]å±æ€§æŒ‡å‘æ„é€ å‡½æ•°çš„åŸå‹å¯¹è±¡</span>
	<span class="token comment">// å³å®ç°ï¼šobj.__proto__ === constructor.prototype</span>
	<span class="token keyword">const</span> obj <span class="token operator">=</span> Object<span class="token punctuation">.</span><span class="token function">create</span><span class="token punctuation">(</span>constrc<span class="token punctuation">.</span>prototype<span class="token punctuation">)</span>
	<span class="token comment">// 3.å°†constrcå†…éƒ¨çš„thisï¼ˆå³æ‰§è¡Œä¸Šä¸‹æ–‡ï¼‰æŒ‡å‘objï¼Œå¹¶æ‰§è¡Œ</span>
	<span class="token keyword">const</span> result <span class="token operator">=</span> <span class="token function">constrc</span><span class="token punctuation">.</span><span class="token function">apply</span><span class="token punctuation">(</span>obj<span class="token punctuation">,</span> args<span class="token punctuation">)</span><span class="token punctuation">;</span> 
	<span class="token comment">// 4. å¦‚æœæ„é€ å‡½æ•°è¿”å›çš„æ˜¯å¯¹è±¡ï¼Œåˆ™ä½¿ç”¨æ„é€ å‡½æ•°æ‰§è¡Œçš„ç»“æœã€‚å¦åˆ™ï¼Œè¿”å›æ–°åˆ›å»ºçš„å¯¹è±¡</span>
	<span class="token keyword">return</span> result <span class="token keyword">instanceof</span> <span class="token class-name">Object</span> <span class="token operator">?</span> result <span class="token operator">:</span> obj<span class="token punctuation">;</span> 
<span class="token punctuation">&#125;</span>

<span class="token comment">// ä½¿ç”¨çš„ä¾‹å­ï¼š</span>
<span class="token keyword">function</span> <span class="token function">Person</span><span class="token punctuation">(</span><span class="token parameter">name<span class="token punctuation">,</span> age</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>
	<span class="token keyword">this</span><span class="token punctuation">.</span>name <span class="token operator">=</span> name<span class="token punctuation">;</span>
	<span class="token keyword">this</span><span class="token punctuation">.</span>age <span class="token operator">=</span> age<span class="token punctuation">;</span>
<span class="token punctuation">&#125;</span>
<span class="token keyword">const</span> person1 <span class="token operator">=</span> <span class="token function">myNew</span><span class="token punctuation">(</span>Person<span class="token punctuation">,</span> <span class="token string">'Tom'</span><span class="token punctuation">,</span> <span class="token number">20</span><span class="token punctuation">)</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>person1<span class="token punctuation">)</span>  <span class="token comment">// Person &#123;name: "Tom", age: 20&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p>è¿™é‡Œçš„å…³é”®ä¸¤æ­¥å°±æ˜¯ï¼š</p>
<ol>
<li>å°†æ–°åˆ›å»ºå¯¹è±¡çš„åŸå‹é“¾è®¾ç½®æ­£ç¡®ï¼Œè¿™æ ·æˆ‘ä»¬æ‰èƒ½ä½¿ç”¨åŸå‹é“¾ä¸Šçš„æ–¹æ³•ã€‚</li>
<li>å°†æ–°åˆ›å»ºçš„å¯¹è±¡ä½œä¸ºæ„é€ å‡½æ•°æ‰§è¡Œçš„ä¸Šä¸‹æ–‡ï¼Œè¿™æ ·æˆ‘ä»¬æ‰èƒ½æ­£ç¡®åœ°è¿›è¡Œä¸€äº›åˆå§‹åŒ–æ“ä½œã€‚</li>
</ol>
<p><a href="https://blog.csdn.net/cc18868876837/article/details/103149502">https://blog.csdn.net/cc18868876837/article/details/103149502</a></p>
]]></content>
      <categories>
        <category>javascript</category>
      </categories>
      <tags>
        <tag>newå…³é”®å­—</tag>
      </tags>
  </entry>
  <entry>
    <title>promise</title>
    <url>/blog/javascript/promise/</url>
    <content><![CDATA[<h2 id="èƒŒæ™¯"><a href="#èƒŒæ™¯" class="headerlink" title="èƒŒæ™¯"></a>èƒŒæ™¯</h2><blockquote>
<p>è§£å†³å› å›è°ƒåµŒå¥—è€Œäº§ç”Ÿçš„å›è°ƒåœ°ç‹±é—®é¢˜ï¼Œæ–¹ä¾¿é˜…è¯»ç†è§£</p>
</blockquote>
<h2 id="åŸºæœ¬ç”¨æ³•"><a href="#åŸºæœ¬ç”¨æ³•" class="headerlink" title="åŸºæœ¬ç”¨æ³•"></a>åŸºæœ¬ç”¨æ³•</h2><blockquote>
<p>promiseå‡½æ•°æ‹¥æœ‰ä¸¤ç§çŠ¶æ€ï¼šresolve&#x2F;reject<br>åˆ†åˆ«å¯¹åº”ä¸¤ç§å¤„ç†æ–¹å¼ï¼šthen&#x2F;catch<br>æœ€ç»ˆéƒ½ä¼šæ‰§è¡Œfinally</p>
</blockquote>
<pre class="line-numbers language-javascript" data-language="javascript"><code class="language-javascript"><span class="token keyword">const</span> bool <span class="token operator">=</span> <span class="token boolean">true</span>
<span class="token keyword">const</span> pro <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Promise</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">resolve<span class="token punctuation">,</span> reject</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">&#123;</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>bool<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
        <span class="token function">resolve</span><span class="token punctuation">(</span><span class="token string">"success"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">&#125;</span> <span class="token keyword">else</span> <span class="token punctuation">&#123;</span>
        <span class="token function">reject</span><span class="token punctuation">(</span><span class="token string">"failed"</span><span class="token punctuation">)</span>
    <span class="token punctuation">&#125;</span>
<span class="token punctuation">&#125;</span><span class="token punctuation">)</span>
pro<span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">status</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">&#123;</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>status<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">catch</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">status</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">&#123;</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>status<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">finally</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">&#123;</span>

<span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>]]></content>
      <categories>
        <category>javascript</category>
      </categories>
      <tags>
        <tag>promise</tag>
      </tags>
  </entry>
  <entry>
    <title>jsæ¨¡å—åŒ–</title>
    <url>/blog/javascript/js-mo-kuai-hua/</url>
    <content><![CDATA[<h2 id="CommonJS"><a href="#CommonJS" class="headerlink" title="CommonJS"></a>CommonJS</h2><h3 id="é€‚ç”¨åœºæ™¯"><a href="#é€‚ç”¨åœºæ™¯" class="headerlink" title="é€‚ç”¨åœºæ™¯"></a>é€‚ç”¨åœºæ™¯</h3><blockquote>
<p>æœåŠ¡ç«¯å¯ç›´æ¥è¿è¡Œ<br>å®¢æˆ·ç«¯éœ€è¦Browserify</p>
</blockquote>
<h3 id="åŸºæœ¬è¯­æ³•"><a href="#åŸºæœ¬è¯­æ³•" class="headerlink" title="åŸºæœ¬è¯­æ³•"></a>åŸºæœ¬è¯­æ³•</h3><blockquote>
<ol>
<li>æš´éœ²ï¼š <pre class="line-numbers language-javascript" data-language="javascript"><code class="language-javascript"><span class="token number">1.</span> module<span class="token punctuation">.</span>exports <span class="token operator">=</span> value
<span class="token number">2.</span> exports<span class="token punctuation">.</span>xxx <span class="token operator">=</span> value<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre></li>
<li>å¼•å…¥ï¼š <pre class="line-numbers language-javascript" data-language="javascript"><code class="language-javascript"><span class="token number">1.</span> å¼•å…¥ç¬¬ä¸‰æ–¹ï¼š
    <span class="token keyword">const</span> obj <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span>æ¨¡å—å<span class="token punctuation">)</span>
<span class="token number">2.</span> å¼•å…¥è‡ªå®šä¹‰ï¼š
    <span class="token keyword">const</span> obj <span class="token function">require</span><span class="token punctuation">(</span>æ¨¡å—æ–‡ä»¶è·¯å¾„<span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre></li>
</ol>
</blockquote>
<h3 id="å…³ç³»"><a href="#å…³ç³»" class="headerlink" title="å…³ç³»"></a>å…³ç³»</h3><blockquote>
<ul>
<li>exportså’Œmodule.exportsæŒ‡å‘åŒä¸€ä¸ªå¯¹è±¡</li>
<li>æš´éœ²æ—¶å³å°†exportså’Œmodule.exportsçš„å¯¹è±¡æˆ–å±æ€§æŒ‡å‘æ‰€æš´éœ²çš„å€¼</li>
<li>å¼•å…¥çš„å†…å®¹å–å†³äºæš´éœ²çš„å†…å®¹</li>
<li>æš´éœ²çš„æœ¬è´¨æ—¶module.exportsçš„å†…å®¹ï¼Œå³å½“åŒä¸€æ–‡ä»¶ä¸‹åŒæ—¶ä½¿ç”¨äº†exportså’Œmodule.exportsè¿›è¡Œæš´éœ²ï¼Œæ­¤æ—¶å°†åªæš´éœ²module.exportsçš„å†…å®¹</li>
</ul>
</blockquote>
<h3 id="ç¤ºä¾‹"><a href="#ç¤ºä¾‹" class="headerlink" title="ç¤ºä¾‹"></a>ç¤ºä¾‹</h3><pre class="line-numbers language-javascript" data-language="javascript"><div class="caption"><span>a.js</span></div><code class="language-javascript"><span class="token keyword">const</span> a <span class="token operator">=</span> <span class="token number">1</span>
module<span class="token punctuation">.</span>exports <span class="token operator">=</span> a<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>

<pre class="line-numbers language-javascript" data-language="javascript"><div class="caption"><span>b.js</span></div><code class="language-javascript"><span class="token keyword">const</span> <span class="token function-variable function">b</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">"b"</span><span class="token punctuation">)</span>
<span class="token punctuation">&#125;</span>
exports<span class="token punctuation">.</span>b <span class="token operator">=</span> b<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre>

<pre class="line-numbers language-javascript" data-language="javascript"><div class="caption"><span>c.js</span></div><code class="language-javascript"><span class="token keyword">const</span> c1 <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">"./a.js"</span><span class="token punctuation">)</span>
<span class="token keyword">const</span> c2 <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">"./b.js"</span><span class="token punctuation">)</span>
<span class="token keyword">const</span> <span class="token punctuation">&#123;</span>b<span class="token punctuation">&#125;</span> <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">"./b.js"</span><span class="token punctuation">)</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>c1<span class="token punctuation">.</span>a<span class="token punctuation">,</span>c2<span class="token punctuation">.</span>b<span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre>


<h2 id="ESM"><a href="#ESM" class="headerlink" title="ESM"></a>ESM</h2><h3 id="åŸºæœ¬è¯­æ³•-1"><a href="#åŸºæœ¬è¯­æ³•-1" class="headerlink" title="åŸºæœ¬è¯­æ³•"></a>åŸºæœ¬è¯­æ³•</h3><blockquote>
<ol>
<li>æš´éœ²ï¼š <pre class="line-numbers language-javascript" data-language="javascript"><code class="language-javascript"><span class="token number">1.</span> <span class="token keyword">export</span> <span class="token keyword">const</span> a <span class="token operator">=</span> <span class="token number">1</span>
<span class="token number">2.</span> <span class="token keyword">export</span> <span class="token punctuation">&#123;</span>a<span class="token punctuation">&#125;</span>
<span class="token number">3.</span> <span class="token keyword">export</span> <span class="token keyword">default</span> a<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre></li>
<li>å¼•å…¥ï¼š <pre class="line-numbers language-javascript" data-language="javascript"><code class="language-javascript"><span class="token number">1.</span> <span class="token keyword">import</span> <span class="token punctuation">&#123;</span> a <span class="token punctuation">&#125;</span> <span class="token keyword">from</span> <span class="token string">"module"</span><span class="token punctuation">;</span>
<span class="token number">2.</span> <span class="token keyword">import</span> a <span class="token keyword">from</span> <span class="token string">"module"</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre></li>
</ol>
</blockquote>
<h3 id="æ³¨æ„"><a href="#æ³¨æ„" class="headerlink" title="æ³¨æ„"></a>æ³¨æ„</h3><blockquote>
<p>å¦‚æœå¼•å…¥æ¨¡å—é‡åï¼Œå¯ä»¥ä½¿ç”¨åˆ«å</p>
</blockquote>
<pre class="line-numbers language-javascript" data-language="javascript"><code class="language-javascript"><span class="token keyword">import</span> <span class="token punctuation">&#123;</span> a <span class="token keyword">as</span> alias <span class="token punctuation">&#125;</span> <span class="token keyword">from</span> <span class="token string">"module"</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<p>å¯ä»¥ä½¿ç”¨è¿™ç§æ–¹æ³•æ¥æ‰¹é‡å¼•å…¥</p>
<pre class="line-numbers language-javascript" data-language="javascript"><code class="language-javascript"><span class="token keyword">import</span> <span class="token operator">*</span> <span class="token keyword">as</span> module1 <span class="token keyword">from</span> <span class="token string">"module"</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<p>exportå¯æš´éœ²å¤šä¸ªï¼Œä¸”å¯¹åº”import { a } from â€œmoduleâ€æ¥å¼•å…¥<br>export default åªèƒ½æš´éœ²ä¸€æ¬¡ï¼Œä¸”å¯¹åº”import a from â€œmoduleâ€æ¥å¼•å…¥<br>å½“æœ‰å¤šç§æš´éœ²å½¢å¼æ—¶ï¼Œå¯ç”¨import a,{b,c} from â€œmoduleâ€æ¥å¼•å…¥</p>
]]></content>
      <categories>
        <category>javascript</category>
      </categories>
      <tags>
        <tag>javascript</tag>
        <tag>æ¨¡å—åŒ–</tag>
      </tags>
  </entry>
  <entry>
    <title>this</title>
    <url>/blog/javascript/this/</url>
    <content><![CDATA[<h2 id="new-ç»‘å®š"><a href="#new-ç»‘å®š" class="headerlink" title="new ç»‘å®š"></a>new ç»‘å®š</h2><blockquote>
<p>ä½¿ç”¨ new å…³é”®å­—åˆ›å»ºå¯¹è±¡æ—¶ï¼Œthis ä¼šç»‘å®šåˆ°åˆ›å»ºçš„å¯¹è±¡ä¸Šã€‚</p>
</blockquote>
<pre class="line-numbers language-javascript" data-language="javascript"><code class="language-javascript"><span class="token keyword">class</span> <span class="token class-name">Person</span> <span class="token punctuation">&#123;</span>
  <span class="token function">constructor</span><span class="token punctuation">(</span><span class="token parameter">name</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>name <span class="token operator">=</span> name<span class="token punctuation">;</span>
  <span class="token punctuation">&#125;</span>

  <span class="token function">getThis</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>
    <span class="token keyword">return</span> <span class="token keyword">this</span>
  <span class="token punctuation">&#125;</span>
<span class="token punctuation">&#125;</span>


<span class="token keyword">const</span> xiaoMing <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Person</span><span class="token punctuation">(</span><span class="token string">"å°æ˜"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>xiaoMing<span class="token punctuation">.</span><span class="token function">getThis</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">===</span> xiaoMing<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// true</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>xiaoMing<span class="token punctuation">.</span><span class="token function">getThis</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">===</span> Person<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// false</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>xiaoMing<span class="token punctuation">.</span>name <span class="token operator">===</span> <span class="token string">"å°æ˜"</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// true</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<h2 id="æ˜¾å¼ç»‘å®š"><a href="#æ˜¾å¼ç»‘å®š" class="headerlink" title="æ˜¾å¼ç»‘å®š"></a>æ˜¾å¼ç»‘å®š</h2><blockquote>
<p>ä½¿ç”¨ callã€apply æˆ– bind æ–¹æ³•æ˜¾å¼ç»‘å®šæ—¶ï¼Œ this ä¸ºå…¶ç¬¬ä¸€ä¸ªå‚æ•°ã€‚</p>
</blockquote>
<pre class="line-numbers language-javascript" data-language="javascript"><code class="language-javascript"><span class="token keyword">function</span> <span class="token function">foo</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span> <span class="token keyword">this</span> <span class="token operator">===</span> obj <span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// true</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span> <span class="token keyword">this</span><span class="token punctuation">.</span>a <span class="token operator">===</span> <span class="token number">2</span> <span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// true</span>
<span class="token punctuation">&#125;</span>

<span class="token keyword">const</span> obj <span class="token operator">=</span> <span class="token punctuation">&#123;</span>
  <span class="token literal-property property">a</span><span class="token operator">:</span> <span class="token number">2</span>
<span class="token punctuation">&#125;</span><span class="token punctuation">;</span>

<span class="token function">foo</span><span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span> obj <span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<h2 id="éšå¼ç»‘å®š"><a href="#éšå¼ç»‘å®š" class="headerlink" title="éšå¼ç»‘å®š"></a>éšå¼ç»‘å®š</h2><blockquote>
<p>å½“å‡½æ•°æŒ‚åœ¨å¯¹è±¡ä¸Šæ‰§è¡Œæ—¶ï¼Œç³»ç»Ÿä¼šéšå¼åœ°å°† this ç»‘å®šåˆ°è¯¥å¯¹è±¡ä¸Šã€‚</p>
</blockquote>
<pre class="line-numbers language-javascript" data-language="javascript"><code class="language-javascript"><span class="token keyword">function</span> <span class="token function">bar</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span> <span class="token keyword">this</span> <span class="token operator">===</span> obj1 <span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// false</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span> <span class="token keyword">this</span> <span class="token operator">===</span> obj2 <span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// true</span>
<span class="token punctuation">&#125;</span>

<span class="token keyword">const</span> obj1 <span class="token operator">=</span> <span class="token punctuation">&#123;</span>
  <span class="token function-variable function">foo</span><span class="token operator">:</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span> <span class="token keyword">this</span> <span class="token operator">===</span> obj1 <span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// false</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span> <span class="token keyword">this</span> <span class="token operator">===</span> obj2 <span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// true</span>
  <span class="token punctuation">&#125;</span><span class="token punctuation">,</span>
  <span class="token literal-property property">bar</span><span class="token operator">:</span> bar
<span class="token punctuation">&#125;</span><span class="token punctuation">;</span>

<span class="token keyword">const</span> obj2 <span class="token operator">=</span> <span class="token punctuation">&#123;</span>
  <span class="token literal-property property">foo</span><span class="token operator">:</span> obj1<span class="token punctuation">.</span>foo<span class="token punctuation">,</span>
  <span class="token literal-property property">bar</span><span class="token operator">:</span> obj1<span class="token punctuation">.</span>bar
<span class="token punctuation">&#125;</span><span class="token punctuation">;</span>

obj2<span class="token punctuation">.</span><span class="token function">foo</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
obj2<span class="token punctuation">.</span><span class="token function">bar</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<h2 id="é»˜è®¤ç»‘å®š"><a href="#é»˜è®¤ç»‘å®š" class="headerlink" title="é»˜è®¤ç»‘å®š"></a>é»˜è®¤ç»‘å®š</h2><blockquote>
<p>å½“å‡½æ•°ç‹¬ç«‹æ‰§è¡Œæ—¶ï¼Œä¸¥æ ¼æ¨¡å¼ this çš„é»˜è®¤ç»‘å®šå€¼ä¸º undefinedï¼Œå¦åˆ™ä¸ºå…¨å±€å¯¹è±¡ã€‚</p>
</blockquote>
<pre class="line-numbers language-javascript" data-language="javascript"><code class="language-javascript"><span class="token keyword">var</span> animal <span class="token operator">=</span> <span class="token string">'ğŸ·'</span>
<span class="token keyword">function</span> <span class="token function">fun</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
    <span class="token keyword">var</span> animal <span class="token operator">=</span> <span class="token string">'ğŸ®'</span>
    <span class="token keyword">function</span> <span class="token function">fun1</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>animal<span class="token punctuation">)</span> <span class="token comment">// ğŸ·</span>
    <span class="token punctuation">&#125;</span>
    <span class="token function">fun1</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">&#125;</span>

<span class="token keyword">var</span> obj <span class="token operator">=</span> <span class="token punctuation">&#123;</span>
    <span class="token literal-property property">animal</span><span class="token operator">:</span> <span class="token string">'ğŸ”'</span><span class="token punctuation">,</span>
    <span class="token function-variable function">fun1</span><span class="token operator">:</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
        <span class="token keyword">function</span> <span class="token function">fun</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
            console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>animal<span class="token punctuation">)</span> <span class="token comment">// ğŸ·</span>
        <span class="token punctuation">&#125;</span>
        <span class="token function">fun</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">&#125;</span><span class="token punctuation">,</span>
    <span class="token function-variable function">fun2</span><span class="token operator">:</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
        <span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
            console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>animal<span class="token punctuation">)</span>
        <span class="token punctuation">&#125;</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span>
    <span class="token punctuation">&#125;</span>
<span class="token punctuation">&#125;</span>

<span class="token function">fun</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment">// ğŸ·</span>
obj<span class="token punctuation">.</span><span class="token function">fun1</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment">// ğŸ·</span>
obj<span class="token punctuation">.</span><span class="token function">fun2</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment">// ğŸ·</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<h2 id="ç®­å¤´å‡½æ•°ç»‘å®š"><a href="#ç®­å¤´å‡½æ•°ç»‘å®š" class="headerlink" title="ç®­å¤´å‡½æ•°ç»‘å®š"></a>ç®­å¤´å‡½æ•°ç»‘å®š</h2><blockquote>
<p>ä½¿ç”¨ç®­å¤´å‡½æ•°æ—¶ï¼Œthisçš„ç»‘å®šå€¼ç­‰äºå…¶å¤–å±‚çš„æ™®é€šå‡½æ•°ï¼ˆæˆ–è€…å…¨å±€å¯¹è±¡æœ¬èº«ï¼‰çš„thisã€‚</p>
</blockquote>
<pre class="line-numbers language-javascript" data-language="javascript"><code class="language-javascript"><span class="token keyword">function</span> <span class="token function">foo</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
  <span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">&#123;</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">this</span> <span class="token operator">===</span> obj<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// true</span>
  <span class="token punctuation">&#125;</span><span class="token punctuation">,</span> <span class="token number">100</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">&#125;</span>

<span class="token keyword">const</span> obj <span class="token operator">=</span> <span class="token punctuation">&#123;</span>
  <span class="token literal-property property">a</span> <span class="token operator">:</span> <span class="token number">1</span>
<span class="token punctuation">&#125;</span>

<span class="token function">foo</span><span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span>obj<span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<h2 id="ç¤ºä¾‹"><a href="#ç¤ºä¾‹" class="headerlink" title="ç¤ºä¾‹"></a>ç¤ºä¾‹</h2><pre class="line-numbers language-javascript" data-language="javascript"><code class="language-javascript"><span class="token keyword">var</span> obj <span class="token operator">=</span> <span class="token punctuation">&#123;</span>
  <span class="token literal-property property">foo</span><span class="token operator">:</span> <span class="token string">'bar'</span><span class="token punctuation">,</span>
  <span class="token function-variable function">fun</span><span class="token operator">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>
    <span class="token keyword">var</span> _this <span class="token operator">=</span> <span class="token keyword">this</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>foo<span class="token punctuation">)</span>  <span class="token comment">// bar</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>_this<span class="token punctuation">.</span>foo<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// bar</span>
    <span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>
      console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>foo<span class="token punctuation">)</span>  <span class="token comment">// undefined </span>
      console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>_this<span class="token punctuation">.</span>foo<span class="token punctuation">)</span> <span class="token comment">// bar</span>
    <span class="token punctuation">&#125;</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
  <span class="token punctuation">&#125;</span>
<span class="token punctuation">&#125;</span>
obj<span class="token punctuation">.</span><span class="token function">fun</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<pre class="line-numbers language-javascript" data-language="javascript"><code class="language-javascript"><span class="token keyword">var</span> name <span class="token operator">=</span> <span class="token string">'win'</span>
<span class="token keyword">var</span> obj <span class="token operator">=</span> <span class="token punctuation">&#123;</span>
  <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">'obj'</span><span class="token punctuation">,</span>
  <span class="token function-variable function">fun1</span><span class="token operator">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>
    <span class="token keyword">return</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>
      <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span>name
    <span class="token punctuation">&#125;</span>
  <span class="token punctuation">&#125;</span><span class="token punctuation">,</span>
  <span class="token function-variable function">fun2</span><span class="token operator">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>
    <span class="token keyword">return</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">&#123;</span>
      <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span>name
    <span class="token punctuation">&#125;</span>
  <span class="token punctuation">&#125;</span>
<span class="token punctuation">&#125;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>obj<span class="token punctuation">.</span><span class="token function">fun1</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment">// win</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>obj<span class="token punctuation">.</span><span class="token function">fun2</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment">// obj</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<pre class="line-numbers language-javascript" data-language="javascript"><code class="language-javascript"><span class="token keyword">var</span> a <span class="token operator">=</span> <span class="token number">1</span>
<span class="token keyword">var</span> b <span class="token operator">=</span> <span class="token number">2</span> 
<span class="token keyword">var</span> obj <span class="token operator">=</span> <span class="token punctuation">&#123;</span>
  <span class="token literal-property property">a</span><span class="token operator">:</span> <span class="token number">10</span><span class="token punctuation">,</span>
  <span class="token literal-property property">b</span><span class="token operator">:</span> <span class="token keyword">this</span><span class="token punctuation">.</span>a <span class="token operator">+</span> <span class="token number">10</span><span class="token punctuation">,</span>
  <span class="token literal-property property">c</span><span class="token operator">:</span> <span class="token keyword">this</span><span class="token punctuation">.</span>b<span class="token punctuation">,</span>
  <span class="token function-variable function">fun1</span><span class="token operator">:</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
    <span class="token keyword">return</span> <span class="token punctuation">[</span><span class="token keyword">this</span><span class="token punctuation">.</span>a<span class="token punctuation">,</span> <span class="token keyword">this</span><span class="token punctuation">.</span>b<span class="token punctuation">,</span> <span class="token keyword">this</span><span class="token punctuation">.</span>c<span class="token punctuation">]</span>
  <span class="token punctuation">&#125;</span><span class="token punctuation">,</span>
  <span class="token function-variable function">fun2</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">&#123;</span>
    <span class="token keyword">return</span> <span class="token punctuation">[</span><span class="token keyword">this</span><span class="token punctuation">.</span>a<span class="token punctuation">,</span> <span class="token keyword">this</span><span class="token punctuation">.</span>b<span class="token punctuation">,</span> <span class="token keyword">this</span><span class="token punctuation">.</span>c<span class="token punctuation">]</span>
  <span class="token punctuation">&#125;</span>
<span class="token punctuation">&#125;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span> obj<span class="token punctuation">.</span>b <span class="token punctuation">)</span>    <span class="token comment">// 11</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span> obj<span class="token punctuation">.</span>c <span class="token punctuation">)</span>    <span class="token comment">// 2</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span> obj<span class="token punctuation">.</span><span class="token function">fun1</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">)</span> <span class="token comment">// [10, 11, 2]</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span> obj<span class="token punctuation">.</span><span class="token function">fun2</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">)</span> <span class="token comment">// [1, 2, undefinden]</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<pre class="line-numbers language-javascript" data-language="javascript"><code class="language-javascript"><span class="token keyword">function</span> <span class="token function">fun</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>a<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">&#125;</span>
<span class="token keyword">var</span> a <span class="token operator">=</span> <span class="token number">2</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> obj <span class="token operator">=</span> <span class="token punctuation">&#123;</span>
  <span class="token literal-property property">a</span><span class="token operator">:</span><span class="token number">3</span><span class="token punctuation">,</span> 
  <span class="token literal-property property">fun</span><span class="token operator">:</span> fun
<span class="token punctuation">&#125;</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> obj2 <span class="token operator">=</span> <span class="token punctuation">&#123;</span> <span class="token literal-property property">a</span><span class="token operator">:</span><span class="token number">4</span> <span class="token punctuation">&#125;</span><span class="token punctuation">;</span>

obj<span class="token punctuation">.</span><span class="token function">fun</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>   <span class="token comment">// 3</span>
<span class="token punctuation">(</span>obj2<span class="token punctuation">.</span>fun <span class="token operator">=</span> obj<span class="token punctuation">.</span>fun<span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 2</span>
obj2<span class="token punctuation">.</span>fun <span class="token operator">=</span> obj<span class="token punctuation">.</span>fun<span class="token punctuation">;</span>
obj2<span class="token punctuation">.</span><span class="token function">fun</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">// 4</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<pre class="line-numbers language-javascript" data-language="javascript"><code class="language-javascript"><span class="token keyword">function</span> <span class="token function">test</span><span class="token punctuation">(</span><span class="token parameter">arg</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
  <span class="token keyword">this</span><span class="token punctuation">.</span>x <span class="token operator">=</span> arg
  <span class="token keyword">return</span> <span class="token keyword">this</span>
<span class="token punctuation">&#125;</span>

<span class="token keyword">var</span> x <span class="token operator">=</span> <span class="token function">test</span><span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">)</span><span class="token punctuation">;</span>   <span class="token comment">// x å…ˆç­‰äº5ï¼Œç„¶åè¢«èµ‹å€¼ä¸º windowã€‚</span>
<span class="token keyword">var</span> y <span class="token operator">=</span> <span class="token function">test</span><span class="token punctuation">(</span><span class="token number">6</span><span class="token punctuation">)</span><span class="token punctuation">;</span>   <span class="token comment">// x èµ‹å€¼ä¸º6ï¼Œy èµ‹å€¼ä¸º window</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>x<span class="token punctuation">.</span>x<span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">// undefinedï¼Œå®é™…ä¸Šæ˜¯6.x  æ˜¯undefined</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>y<span class="token punctuation">.</span>x<span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">// 6ï¼Œå®é™…ä¸Šæ˜¯window.x ä¹Ÿå°±æ˜¯6</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<pre class="line-numbers language-javascript" data-language="javascript"><code class="language-javascript"><span class="token keyword">var</span> x <span class="token operator">=</span> <span class="token number">3</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> y <span class="token operator">=</span> <span class="token number">4</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> obj <span class="token operator">=</span> <span class="token punctuation">&#123;</span>
  <span class="token literal-property property">x</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
  <span class="token literal-property property">y</span><span class="token operator">:</span> <span class="token number">6</span><span class="token punctuation">,</span>
  <span class="token function-variable function">getX</span><span class="token operator">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
    <span class="token keyword">var</span> x <span class="token operator">=</span><span class="token number">5</span><span class="token punctuation">;</span>
    <span class="token keyword">return</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>
      <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span>x<span class="token punctuation">;</span>
    <span class="token punctuation">&#125;</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">&#125;</span><span class="token punctuation">,</span>
  <span class="token function-variable function">getY</span><span class="token operator">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
    <span class="token keyword">var</span> y <span class="token operator">=</span><span class="token number">7</span><span class="token punctuation">;</span>
    <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span>y<span class="token punctuation">;</span>
  <span class="token punctuation">&#125;</span>
<span class="token punctuation">&#125;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>obj<span class="token punctuation">.</span><span class="token function">getX</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment">// 3</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>obj<span class="token punctuation">.</span><span class="token function">getY</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment">// 6</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<pre class="line-numbers language-javascript" data-language="javascript"><code class="language-javascript"><span class="token keyword">function</span> <span class="token function">foo</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>
  <span class="token keyword">return</span> <span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">=></span><span class="token punctuation">&#123;</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>a<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">&#125;</span>
<span class="token punctuation">&#125;</span>
foo<span class="token punctuation">.</span>a <span class="token operator">=</span> <span class="token number">10</span><span class="token punctuation">;</span>

<span class="token keyword">var</span> bar <span class="token operator">=</span> <span class="token function">foo</span><span class="token punctuation">(</span><span class="token punctuation">)</span> 
<span class="token function">bar</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">// undefined</span>

<span class="token keyword">var</span> baz <span class="token operator">=</span> <span class="token function">foo</span><span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span>foo<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token function">baz</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">// 10 </span>

<span class="token keyword">var</span> obj <span class="token operator">=</span> <span class="token punctuation">&#123;</span> <span class="token literal-property property">a</span><span class="token operator">:</span> <span class="token number">999</span> <span class="token punctuation">&#125;</span>
<span class="token function">baz</span><span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span>obj<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 10</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p><a href="https://segmentfault.com/a/1190000008156495">https://segmentfault.com/a/1190000008156495</a><br><a href="https://juejin.cn/post/6844904196362223624#heading-25">https://juejin.cn/post/6844904196362223624#heading-25</a></p>
]]></content>
      <categories>
        <category>javascript</category>
      </categories>
      <tags>
        <tag>this</tag>
      </tags>
  </entry>
  <entry>
    <title>web worker</title>
    <url>/blog/javascript/webworker/</url>
    <content><![CDATA[<h2 id="ç®€ä»‹"><a href="#ç®€ä»‹" class="headerlink" title="ç®€ä»‹"></a>ç®€ä»‹</h2><blockquote>
<p>Web Workerä¸ºWebå†…å®¹åœ¨åå°çº¿ç¨‹ä¸­è¿è¡Œè„šæœ¬æä¾›äº†ä¸€ç§ç®€å•çš„æ–¹æ³•ã€‚çº¿ç¨‹å¯ä»¥æ‰§è¡Œä»»åŠ¡è€Œä¸å¹²æ‰°ç”¨æˆ·ç•Œé¢<br>ä¸€ä¸ªworkeræ˜¯ä½¿ç”¨ä¸€ä¸ªæ„é€ å‡½æ•°åˆ›å»ºçš„ä¸€ä¸ªå¯¹è±¡è¿è¡Œä¸€ä¸ªå‘½åçš„JavaScriptæ–‡ä»¶,è¿™ä¸ªæ–‡ä»¶åŒ…å«å°†åœ¨å·¥ä½œçº¿ç¨‹ä¸­è¿è¡Œçš„ä»£ç ,JSå¼•æ“çº¿ç¨‹ä¸workerçº¿ç¨‹é—´é€šè¿‡postMessageé€šä¿¡<br>å¯ç”¨äºæ‰§è¡Œéå¸¸è€—æ—¶çš„cpuå¯†é›†å‹å·¥ä½œï¼Œè¿™æ ·ä¸ä¼šé˜»å¡ä¸»çº¿ç¨‹çš„æ‰§è¡Œ<br>web workerä¸èƒ½è®¿é—®windowã€documentå¯¹è±¡ï¼Œå…¨éƒ¨å˜é‡ä¸ºè‡ªèº«self</p>
</blockquote>
<h2 id="åº”ç”¨åœºæ™¯"><a href="#åº”ç”¨åœºæ™¯" class="headerlink" title="åº”ç”¨åœºæ™¯"></a>åº”ç”¨åœºæ™¯</h2><blockquote>
<p>éœ€è¦æ‰§è¡Œå¤§é‡è®¡ç®—æ—¶ï¼Œå¯å°†è¯¥è®¡ç®—è¿‡ç¨‹äº¤ç»™web workerï¼Œè®¡ç®—å®Œæˆåå°†ç»“æœè¿”å›çš„ä¸»çº¿ç¨‹</p>
</blockquote>
<h2 id="web-workerç¤ºä¾‹"><a href="#web-workerç¤ºä¾‹" class="headerlink" title="web workerç¤ºä¾‹"></a>web workerç¤ºä¾‹</h2><pre class="line-numbers language-markup" data-language="markup"><div class="caption"><span>index.html</span></div><code class="language-markup"><span class="token doctype"><span class="token punctuation">&lt;!</span><span class="token doctype-tag">DOCTYPE</span> <span class="token name">html</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>html</span> <span class="token attr-name">lang</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>en<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>head</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">charset</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>UTF-8<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">http-equiv</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>X-UA-Compatible<span class="token punctuation">"</span></span> <span class="token attr-name">content</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>IE=edge<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>viewport<span class="token punctuation">"</span></span> <span class="token attr-name">content</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>width=device-width, initial-scale=1.0<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>title</span><span class="token punctuation">></span></span>Document<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>title</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>head</span><span class="token punctuation">></span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>body</span><span class="token punctuation">></span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>body</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">></span></span><span class="token script"><span class="token language-javascript">
    <span class="token keyword">const</span> ww <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Worker</span><span class="token punctuation">(</span><span class="token string">"./worker.js"</span><span class="token punctuation">)</span>
    ww<span class="token punctuation">.</span><span class="token function">postMessage</span><span class="token punctuation">(</span><span class="token punctuation">&#123;</span> <span class="token literal-property property">action</span><span class="token operator">:</span> <span class="token string">"calculate"</span><span class="token punctuation">,</span> <span class="token literal-property property">msg</span><span class="token operator">:</span> <span class="token string">"è®¡ç®—ä¸€æ®µå¤æ‚æ•°æ®"</span> <span class="token punctuation">&#125;</span><span class="token punctuation">)</span>
    ww<span class="token punctuation">.</span><span class="token function-variable function">onmessage</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">event</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">&#123;</span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>event<span class="token punctuation">.</span>data<span class="token punctuation">)</span>
        ww<span class="token punctuation">.</span><span class="token function">terminate</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">&#125;</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">></span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>html</span><span class="token punctuation">></span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<pre class="line-numbers language-javascript" data-language="javascript"><div class="caption"><span>worker.js</span></div><code class="language-javascript">self<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">"message"</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token parameter">event</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">&#123;</span>
    event<span class="token punctuation">.</span>data<span class="token punctuation">.</span>msg <span class="token operator">=</span> <span class="token string">"è®¡ç®—å·²å®Œæˆ"</span>
    <span class="token function">postMessage</span><span class="token punctuation">(</span>event<span class="token punctuation">.</span>data<span class="token punctuation">)</span>
    <span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<h2 id="SharedWorkerç¤ºä¾‹"><a href="#SharedWorkerç¤ºä¾‹" class="headerlink" title="SharedWorkerç¤ºä¾‹"></a>SharedWorkerç¤ºä¾‹</h2><blockquote>
<p>é€šè¿‡ä½¿ç”¨SharedWorkerï¼Œå¯ä»¥å®ç°åŒæºå¤šçª—å£é¡µé¢é—´é€šä¿¡</p>
</blockquote>
<pre class="line-numbers language-markup" data-language="markup"><div class="caption"><span>index.html</span></div><code class="language-markup"><span class="token doctype"><span class="token punctuation">&lt;!</span><span class="token doctype-tag">DOCTYPE</span> <span class="token name">html</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>html</span> <span class="token attr-name">lang</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>en<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>head</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">charset</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>UTF-8<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">http-equiv</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>X-UA-Compatible<span class="token punctuation">"</span></span> <span class="token attr-name">content</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>IE=edge<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>viewport<span class="token punctuation">"</span></span> <span class="token attr-name">content</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>width=device-width, initial-scale=1.0<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>title</span><span class="token punctuation">></span></span>Document<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>title</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>head</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>body</span><span class="token punctuation">></span></span>
    
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>body</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">></span></span><span class="token script"><span class="token language-javascript">
    <span class="token keyword">const</span> ww <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">SharedWorker</span><span class="token punctuation">(</span><span class="token string">"./worker.js"</span><span class="token punctuation">)</span>
    ww<span class="token punctuation">.</span>port<span class="token punctuation">.</span><span class="token function">postMessage</span><span class="token punctuation">(</span><span class="token punctuation">&#123;</span><span class="token literal-property property">action</span><span class="token operator">:</span><span class="token string">"close"</span><span class="token punctuation">,</span><span class="token literal-property property">msg</span><span class="token operator">:</span><span class="token string">"å…³é—­è¯·æ±‚"</span><span class="token punctuation">&#125;</span><span class="token punctuation">)</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>html</span><span class="token punctuation">></span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<pre class="line-numbers language-markup" data-language="markup"><div class="caption"><span>index2.html</span></div><code class="language-markup"><span class="token doctype"><span class="token punctuation">&lt;!</span><span class="token doctype-tag">DOCTYPE</span> <span class="token name">html</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>html</span> <span class="token attr-name">lang</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>en<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>head</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">charset</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>UTF-8<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">http-equiv</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>X-UA-Compatible<span class="token punctuation">"</span></span> <span class="token attr-name">content</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>IE=edge<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>viewport<span class="token punctuation">"</span></span> <span class="token attr-name">content</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>width=device-width, initial-scale=1.0<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>title</span><span class="token punctuation">></span></span>Document<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>title</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>head</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>body</span><span class="token punctuation">></span></span>
    
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>body</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">></span></span><span class="token script"><span class="token language-javascript">
    <span class="token keyword">const</span> ww <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">SharedWorker</span><span class="token punctuation">(</span><span class="token string">"./worker.js"</span><span class="token punctuation">)</span>
    ww<span class="token punctuation">.</span>port<span class="token punctuation">.</span><span class="token function-variable function">onmessage</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">event</span><span class="token punctuation">)</span><span class="token operator">=></span><span class="token punctuation">&#123;</span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>event<span class="token punctuation">)</span>
    <span class="token punctuation">&#125;</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>html</span><span class="token punctuation">></span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<pre class="line-numbers language-javascript" data-language="javascript"><div class="caption"><span>worker.js</span></div><code class="language-javascript"><span class="token keyword">var</span> clients <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>
self<span class="token punctuation">.</span><span class="token function-variable function">onconnect</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">e</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">&#123;</span>
    <span class="token keyword">var</span> port <span class="token operator">=</span> e<span class="token punctuation">.</span>ports<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span>
    clients<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>port<span class="token punctuation">)</span>
    port<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">"message"</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token parameter">event</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">&#123;</span>
        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">var</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> clients<span class="token punctuation">.</span>length<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
            <span class="token keyword">var</span> eElement <span class="token operator">=</span> clients<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">;</span>
            eElement<span class="token punctuation">.</span><span class="token function">postMessage</span><span class="token punctuation">(</span>event<span class="token punctuation">.</span>data<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">&#125;</span>
    <span class="token punctuation">&#125;</span><span class="token punctuation">)</span>
    port<span class="token punctuation">.</span><span class="token function">start</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

]]></content>
      <categories>
        <category>javascript</category>
      </categories>
      <tags>
        <tag>javascript</tag>
        <tag>web worker</tag>
      </tags>
  </entry>
  <entry>
    <title>åŸå‹å’ŒåŸå‹é“¾</title>
    <url>/blog/javascript/yuan-xing-he-yuan-xing-lian/</url>
    <content><![CDATA[<h2 id="proto"><a href="#proto" class="headerlink" title="proto"></a><strong>proto</strong></h2><blockquote>
<p>__proto__ä¸ºå¯¹è±¡ç‰¹æœ‰ï¼Œåœ¨è¯¥å¯¹è±¡è¢«åˆ›å»ºçš„æ—¶å€™å°±ä¼šç”Ÿæˆï¼Œå¹¶æŒ‡å‘çš„æ˜¯æ„é€ å‡½æ•°çš„prototype<br>ç”±äºå‡½æ•°ä¹Ÿå±äºå¯¹è±¡ï¼Œå› æ­¤å‡½æ•°ä¹Ÿæœ‰__proto__<br>é€šè¿‡__proto__å±æ€§å°†å¯¹è±¡è¿æ¥èµ·æ¥çš„è¿™æ¡é“¾è·¯å³æˆ‘ä»¬æ‰€è°“çš„åŸå‹é“¾<br>__proto__çš„æœ€ç»ˆæŒ‡å‘ä¸ºnull</p>
</blockquote>
<pre class="line-numbers language-javascript" data-language="javascript"><code class="language-javascript"><span class="token keyword">const</span> a <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Object</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
a<span class="token punctuation">.</span>__proto__ <span class="token operator">==</span> <span class="token class-name">Object</span><span class="token punctuation">.</span>prototype<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>

<h2 id="prototype"><a href="#prototype" class="headerlink" title="prototype"></a>prototype</h2><blockquote>
<p>prototypeä¸ºå‡½æ•°ç‰¹æœ‰ï¼ŒæŒ‡å‘çš„æ˜¯è¯¥å‡½æ•°çš„åŸå‹å¯¹è±¡ï¼Œä»»ä½•å‡½æ•°åœ¨åˆ›å»ºçš„æ—¶å€™ï¼Œä¼šé»˜è®¤åŒæ—¶åˆ›å»ºè¯¥å‡½æ•°çš„åŸå‹å¯¹è±¡</p>
</blockquote>
<pre class="line-numbers language-javascript" data-language="javascript"><code class="language-javascript"><span class="token keyword">function</span> <span class="token function">fn</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span><span class="token punctuation">&#125;</span>
<span class="token keyword">const</span> a <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">fn</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
fn<span class="token punctuation">.</span>__proto__ <span class="token operator">==</span> <span class="token class-name">Function</span><span class="token punctuation">.</span>prototype <span class="token comment">// æ­¤æ—¶fnæ˜¯ä½œä¸ºå¯¹è±¡</span>
a<span class="token punctuation">.</span>__proto__ <span class="token operator">==</span> fn<span class="token punctuation">.</span>prototype <span class="token comment">// æ­¤æ—¶fnæ˜¯ä½œä¸ºå‡½æ•°</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre>

<blockquote>
<p>åŸå‹å¯¹è±¡ä¸­å­˜æ”¾ç€å„ç±»é€šç”¨æ–¹æ³•ï¼Œå› æ­¤å°†ç”±è¯¥å‡½æ•°æ‰€äº§ç”Ÿçš„å®ä¾‹çš„__proto__å±æ€§æŒ‡å‘åˆ°å‡½æ•°åŸå‹å¯¹è±¡ä¸Šï¼Œå®ä¾‹å³å¯è®¿é—®åŸå‹å¯¹è±¡ä¸Šçš„æ–¹æ³•äº†ï¼Œè¿™æ ·å°±å®ç°äº†ç»§æ‰¿ã€‚å¦‚æ•°ç»„ä¸­çš„pushã€popçš„å®ç°éƒ½æ˜¯è¿™ä¸ªåŸç†</p>
</blockquote>
<pre class="line-numbers language-javascript" data-language="javascript"><code class="language-javascript"><span class="token keyword">const</span> obj <span class="token operator">=</span> <span class="token punctuation">&#123;</span>
    <span class="token function">say</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">"i am obj"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">&#125;</span>
<span class="token punctuation">&#125;</span>
<span class="token class-name">Object</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function-variable function">say</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">=></span><span class="token punctuation">&#123;</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">"i am Object"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">&#125;</span>
<span class="token class-name">Object</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function-variable function">greet</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">=></span><span class="token punctuation">&#123;</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">"hello"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">&#125;</span>
obj<span class="token punctuation">.</span><span class="token function">say</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment">// i am obj</span>
obj<span class="token punctuation">.</span><span class="token function">greet</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment">// hello</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<h2 id="construct"><a href="#construct" class="headerlink" title="construct"></a>construct</h2><blockquote>
<p>constructæ˜¯å¯¹è±¡æ‹¥æœ‰çš„ï¼Œæ˜¯æŒ‡å‘ä¸€ä¸ªå¯¹è±¡çš„æ„é€ å‡½æ•°<br>constructæœ€ç»ˆæŒ‡å‘ä¸ºFunction</p>
</blockquote>
<p><a href="https://juejin.cn/post/6854573210801995789#heading-6">https://juejin.cn/post/6854573210801995789#heading-6</a><br><a href="https://segmentfault.com/a/1190000008293372#articleHeader2">https://segmentfault.com/a/1190000008293372#articleHeader2</a><br><a href="https://blog.csdn.net/cc18868876837/article/details/81211729">https://blog.csdn.net/cc18868876837/article/details/81211729</a></p>
]]></content>
      <categories>
        <category>javascript</category>
      </categories>
      <tags>
        <tag>__proto__</tag>
        <tag>prototype</tag>
        <tag>construct</tag>
      </tags>
  </entry>
  <entry>
    <title>å›¾ç‰‡æ‡’åŠ è½½</title>
    <url>/blog/javascript/tu-pian-lan-jia-zai/</url>
    <content><![CDATA[<pre class="line-numbers language-javascript" data-language="javascript"><code class="language-javascript"><span class="token keyword">const</span> images <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">querySelectorAll</span><span class="token punctuation">(</span><span class="token string">"img"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">const</span> <span class="token function-variable function">callback</span> <span class="token operator">=</span> <span class="token parameter">entries</span> <span class="token operator">=></span> <span class="token punctuation">&#123;</span>
    entries<span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token parameter">entry</span> <span class="token operator">=></span> <span class="token punctuation">&#123;</span>
        <span class="token keyword">if</span><span class="token punctuation">(</span>entry<span class="token punctuation">.</span>isIntersecting<span class="token punctuation">)</span><span class="token punctuation">&#123;</span>
            <span class="token keyword">const</span> image <span class="token operator">=</span> entry<span class="token punctuation">.</span>target<span class="token punctuation">;</span>
            <span class="token keyword">const</span> data_src <span class="token operator">=</span> image<span class="token punctuation">.</span><span class="token function">getAttribute</span><span class="token punctuation">(</span><span class="token string">"data-src"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            image<span class="token punctuation">.</span><span class="token function">setAttribute</span><span class="token punctuation">(</span><span class="token string">"src"</span><span class="token punctuation">,</span>data_src<span class="token punctuation">)</span><span class="token punctuation">;</span>
            observer<span class="token punctuation">.</span><span class="token function">unobserve</span><span class="token punctuation">(</span>image<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">&#125;</span>
    <span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">&#125;</span>

<span class="token keyword">const</span> observer <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">IntersectionObserver</span><span class="token punctuation">(</span>callback<span class="token punctuation">)</span><span class="token punctuation">;</span>

images<span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token parameter">image</span> <span class="token operator">=></span> <span class="token punctuation">&#123;</span>
    observer<span class="token punctuation">.</span><span class="token function">observer</span><span class="token punctuation">(</span>image<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
]]></content>
      <categories>
        <category>javascript</category>
      </categories>
      <tags>
        <tag>æ‡’åŠ è½½</tag>
      </tags>
  </entry>
  <entry>
    <title>å¯¹è±¡æ“ä½œ</title>
    <url>/blog/javascript/dui-xiang-cao-zuo/</url>
    <content><![CDATA[<h2 id="å±æ€§"><a href="#å±æ€§" class="headerlink" title="å±æ€§"></a>å±æ€§</h2><ul>
<li>constructor<br>è¿”å› Object çš„æ„é€ å‡½æ•°</li>
</ul>
<h2 id="é™æ€æ–¹æ³•"><a href="#é™æ€æ–¹æ³•" class="headerlink" title="é™æ€æ–¹æ³•"></a>é™æ€æ–¹æ³•</h2><ul>
<li>assign<blockquote>
<p>åŠŸèƒ½ï¼šå°†æ‰€æœ‰å¯æšä¸¾ï¼ˆObject.propertyIsEnumerable() è¿”å› trueï¼‰å’Œè‡ªæœ‰ï¼ˆObject.hasOwnProperty() è¿”å› trueï¼‰å±æ€§ä»ä¸€ä¸ªæˆ–å¤šä¸ªæºå¯¹è±¡å¤åˆ¶åˆ°ç›®æ ‡å¯¹è±¡ï¼Œè¿”å›ä¿®æ”¹åçš„å¯¹è±¡ã€‚<br>è¿”å›å€¼ï¼š<code>Object</code>ç›®æ ‡å¯¹è±¡<br>å‚æ•°ï¼š<code>(target, ...sources)</code><br><code>target</code>ï¼šç›®æ ‡å¯¹è±¡ï¼Œæ¥æ”¶æºå¯¹è±¡å±æ€§çš„å¯¹è±¡ï¼Œä¹Ÿæ˜¯ä¿®æ”¹åçš„è¿”å›å€¼ã€‚<br><code>sources</code>ï¼šæºå¯¹è±¡ï¼ŒåŒ…å«å°†è¢«åˆå¹¶çš„å±æ€§ã€‚</p>
</blockquote>
<pre class="line-numbers language-javascript" data-language="javascript"><code class="language-javascript"><span class="token keyword">const</span> target <span class="token operator">=</span> <span class="token punctuation">&#123;</span> <span class="token literal-property property">a</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token literal-property property">b</span><span class="token operator">:</span> <span class="token number">2</span> <span class="token punctuation">&#125;</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> source <span class="token operator">=</span> <span class="token punctuation">&#123;</span> <span class="token literal-property property">b</span><span class="token operator">:</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token literal-property property">c</span><span class="token operator">:</span> <span class="token number">5</span> <span class="token punctuation">&#125;</span><span class="token punctuation">;</span>

<span class="token keyword">const</span> returnedTarget <span class="token operator">=</span> Object<span class="token punctuation">.</span><span class="token function">assign</span><span class="token punctuation">(</span>target<span class="token punctuation">,</span> source<span class="token punctuation">)</span><span class="token punctuation">;</span>

console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>target<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// &#123; a: 1, b: 4, c: 5 &#125;</span>

console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>returnedTarget<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// &#123; a: 1, b: 4, c: 5 &#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>å¦‚æœç›®æ ‡å¯¹è±¡ä¸æºå¯¹è±¡å…·æœ‰ç›¸åŒçš„ keyï¼Œåˆ™ç›®æ ‡å¯¹è±¡ä¸­çš„å±æ€§å°†è¢«æºå¯¹è±¡ä¸­çš„å±æ€§è¦†ç›–ï¼Œåé¢çš„æºå¯¹è±¡çš„å±æ€§å°†ç±»ä¼¼åœ°è¦†ç›–å‰é¢çš„æºå¯¹è±¡çš„å±æ€§ã€‚<br>å¦‚æœèµ‹å€¼æœŸé—´å‡ºé”™ï¼Œä¾‹å¦‚å¦‚æœå±æ€§ä¸å¯å†™ï¼Œåˆ™ä¼šæŠ›å‡º TypeErrorï¼›å¦‚æœåœ¨æŠ›å‡ºå¼‚å¸¸ä¹‹å‰æ·»åŠ äº†ä»»ä½•å±æ€§ï¼Œåˆ™ä¼šä¿®æ”¹ target å¯¹è±¡ã€‚<br>assignå±äºæµ…æ‹·è´</p>
<pre class="line-numbers language-javascript" data-language="javascript"><code class="language-javascript"><span class="token keyword">let</span> obj1 <span class="token operator">=</span> <span class="token punctuation">&#123;</span> <span class="token literal-property property">a</span><span class="token operator">:</span> <span class="token number">0</span> <span class="token punctuation">,</span> <span class="token literal-property property">b</span><span class="token operator">:</span> <span class="token punctuation">&#123;</span> <span class="token literal-property property">c</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">&#125;</span><span class="token punctuation">&#125;</span><span class="token punctuation">;</span>
<span class="token keyword">let</span> obj2 <span class="token operator">=</span> Object<span class="token punctuation">.</span><span class="token function">assign</span><span class="token punctuation">(</span><span class="token punctuation">&#123;</span><span class="token punctuation">&#125;</span><span class="token punctuation">,</span> obj1<span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token constant">JSON</span><span class="token punctuation">.</span><span class="token function">stringify</span><span class="token punctuation">(</span>obj2<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// &#123; "a": 0, "b": &#123; "c": 0&#125;&#125;</span>

obj1<span class="token punctuation">.</span>a <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token constant">JSON</span><span class="token punctuation">.</span><span class="token function">stringify</span><span class="token punctuation">(</span>obj1<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// &#123; "a": 1, "b": &#123; "c": 0&#125;&#125;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token constant">JSON</span><span class="token punctuation">.</span><span class="token function">stringify</span><span class="token punctuation">(</span>obj2<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// &#123; "a": 0, "b": &#123; "c": 0&#125;&#125;</span>

obj2<span class="token punctuation">.</span>a <span class="token operator">=</span> <span class="token number">2</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token constant">JSON</span><span class="token punctuation">.</span><span class="token function">stringify</span><span class="token punctuation">(</span>obj1<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// &#123; "a": 1, "b": &#123; "c": 0&#125;&#125;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token constant">JSON</span><span class="token punctuation">.</span><span class="token function">stringify</span><span class="token punctuation">(</span>obj2<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// &#123; "a": 2, "b": &#123; "c": 0&#125;&#125;</span>

obj2<span class="token punctuation">.</span>b<span class="token punctuation">.</span>c <span class="token operator">=</span> <span class="token number">3</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token constant">JSON</span><span class="token punctuation">.</span><span class="token function">stringify</span><span class="token punctuation">(</span>obj1<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// &#123; "a": 1, "b": &#123; "c": 3&#125;&#125;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token constant">JSON</span><span class="token punctuation">.</span><span class="token function">stringify</span><span class="token punctuation">(</span>obj2<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// &#123; "a": 2, "b": &#123; "c": 3&#125;&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></li>
</ul>
<hr>
<ul>
<li>create<blockquote>
<p>åŠŸèƒ½ï¼šç”¨äºåˆ›å»ºä¸€ä¸ªæ–°å¯¹è±¡ï¼Œä½¿ç”¨ç°æœ‰çš„å¯¹è±¡æ¥ä½œä¸ºæ–°åˆ›å»ºå¯¹è±¡çš„åŸå‹ï¼ˆprototypeï¼‰ã€‚<br>è¿”å›å€¼ï¼š<code>Object</code>ä¸€ä¸ªæ–°å¯¹è±¡ï¼Œå¸¦ç€æŒ‡å®šçš„åŸå‹å¯¹è±¡åŠå…¶å±æ€§ã€‚<br>å‚æ•°ï¼š<code>(proto, [propertiesObject])</code><br><code>proto</code>ï¼šæ–°åˆ›å»ºå¯¹è±¡çš„åŸå‹å¯¹è±¡ã€‚<br><code>propertiesObject</code>ï¼šæºå¯¹è±¡ï¼ŒåŒ…å«å°†è¢«åˆå¹¶çš„å±æ€§ã€‚</p>
</blockquote>
<pre class="line-numbers language-javascript" data-language="javascript"><code class="language-javascript"><span class="token keyword">const</span> person <span class="token operator">=</span> <span class="token punctuation">&#123;</span>
  <span class="token literal-property property">isHuman</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
  <span class="token function-variable function">printIntroduction</span><span class="token operator">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">My name is </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">$&#123;</span><span class="token keyword">this</span><span class="token punctuation">.</span>name<span class="token interpolation-punctuation punctuation">&#125;</span></span><span class="token string">. Am I human? </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">$&#123;</span><span class="token keyword">this</span><span class="token punctuation">.</span>isHuman<span class="token interpolation-punctuation punctuation">&#125;</span></span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">&#125;</span>
<span class="token punctuation">&#125;</span><span class="token punctuation">;</span>

<span class="token keyword">const</span> me <span class="token operator">=</span> Object<span class="token punctuation">.</span><span class="token function">create</span><span class="token punctuation">(</span>person<span class="token punctuation">)</span><span class="token punctuation">;</span>

me<span class="token punctuation">.</span>name <span class="token operator">=</span> <span class="token string">'Matthew'</span><span class="token punctuation">;</span> <span class="token comment">// "name" is a property set on "me", but not on "person"</span>
me<span class="token punctuation">.</span>isHuman <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">;</span> <span class="token comment">// inherited properties can be overwritten</span>

me<span class="token punctuation">.</span><span class="token function">printIntroduction</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// expected output: "My name is Matthew. Am I human? true"</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></li>
</ul>
<hr>
<ul>
<li>defineProperty<blockquote>
<p>åŠŸèƒ½ï¼šåœ¨ä¸€ä¸ªå¯¹è±¡ä¸Šå®šä¹‰ä¸€ä¸ªæ–°å±æ€§ï¼Œæˆ–è€…ä¿®æ”¹ä¸€ä¸ªå¯¹è±¡çš„ç°æœ‰å±æ€§ï¼Œå¹¶è¿”å›æ­¤å¯¹è±¡ã€‚<br>è¿”å›å€¼ï¼š<code>Object</code>è¢«ä¼ é€’ç»™å‡½æ•°çš„å¯¹è±¡ã€‚<br>å‚æ•°ï¼š<code>(obj, prop, descriptor)</code><br><code>obj</code>ï¼šè¦å®šä¹‰å±æ€§çš„å¯¹è±¡ã€‚<br><code>prop</code>ï¼šè¦å®šä¹‰æˆ–ä¿®æ”¹çš„å±æ€§çš„åç§°<br><code>descriptor</code>ï¼šè¦å®šä¹‰æˆ–ä¿®æ”¹çš„å±æ€§æè¿°ç¬¦ã€‚</p>
</blockquote>
<pre class="line-numbers language-javascript" data-language="javascript"><code class="language-javascript"><span class="token keyword">const</span> object1 <span class="token operator">=</span> <span class="token punctuation">&#123;</span><span class="token punctuation">&#125;</span><span class="token punctuation">;</span>

Object<span class="token punctuation">.</span><span class="token function">defineProperty</span><span class="token punctuation">(</span>object1<span class="token punctuation">,</span> <span class="token string">'property1'</span><span class="token punctuation">,</span> <span class="token punctuation">&#123;</span>
  <span class="token literal-property property">value</span><span class="token operator">:</span> <span class="token number">42</span><span class="token punctuation">,</span>
  <span class="token literal-property property">writable</span><span class="token operator">:</span> <span class="token boolean">false</span>
<span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

object1<span class="token punctuation">.</span>property1 <span class="token operator">=</span> <span class="token number">77</span><span class="token punctuation">;</span>
<span class="token comment">// throws an error in strict mode</span>

console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>object1<span class="token punctuation">.</span>property1<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// expected output: 42</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>å±æ€§æè¿°ç¬¦æœ‰ä¸¤ç§ä¸»è¦å½¢å¼ï¼šæ•°æ®æè¿°ç¬¦å’Œå­˜å–æè¿°ç¬¦ã€‚æ•°æ®æè¿°ç¬¦æ˜¯ä¸€ä¸ªå…·æœ‰å€¼çš„å±æ€§ï¼Œè¯¥å€¼å¯ä»¥æ˜¯å¯å†™çš„ï¼Œä¹Ÿå¯ä»¥æ˜¯ä¸å¯å†™çš„ã€‚å­˜å–æè¿°ç¬¦æ˜¯ç”± getter å‡½æ•°å’Œ setter å‡½æ•°æ‰€æè¿°çš„å±æ€§ã€‚ä¸€ä¸ªæè¿°ç¬¦åªèƒ½æ˜¯è¿™ä¸¤è€…å…¶ä¸­ä¹‹ä¸€ï¼›ä¸èƒ½åŒæ—¶æ˜¯ä¸¤è€…ã€‚<br>è¿™ä¸¤ç§æè¿°ç¬¦éƒ½æ˜¯å¯¹è±¡ã€‚å®ƒä»¬å…±äº«ä»¥ä¸‹å¯é€‰é”®å€¼ï¼ˆé»˜è®¤å€¼æ˜¯æŒ‡åœ¨ä½¿ç”¨ Object.defineProperty() å®šä¹‰å±æ€§æ—¶çš„é»˜è®¤å€¼ï¼‰ï¼š<br><code>configurable</code><br>å½“ä¸”ä»…å½“è¯¥å±æ€§çš„ configurable é”®å€¼ä¸º true æ—¶ï¼Œè¯¥å±æ€§çš„æè¿°ç¬¦æ‰èƒ½å¤Ÿè¢«æ”¹å˜ï¼ŒåŒæ—¶è¯¥å±æ€§ä¹Ÿèƒ½ä»å¯¹åº”çš„å¯¹è±¡ä¸Šè¢«åˆ é™¤ã€‚ é»˜è®¤ä¸º falseã€‚<br><code>enumerable</code><br>å½“ä¸”ä»…å½“è¯¥å±æ€§çš„ enumerable é”®å€¼ä¸º true æ—¶ï¼Œè¯¥å±æ€§æ‰ä¼šå‡ºç°åœ¨å¯¹è±¡çš„æšä¸¾å±æ€§ä¸­ã€‚ é»˜è®¤ä¸º falseã€‚<br>æ•°æ®æè¿°ç¬¦è¿˜å…·æœ‰ä»¥ä¸‹å¯é€‰é”®å€¼ï¼š<br><code>value</code><br>è¯¥å±æ€§å¯¹åº”çš„å€¼ã€‚å¯ä»¥æ˜¯ä»»ä½•æœ‰æ•ˆçš„ JavaScript å€¼ï¼ˆæ•°å€¼ï¼Œå¯¹è±¡ï¼Œå‡½æ•°ç­‰ï¼‰ã€‚ é»˜è®¤ä¸º undefinedã€‚<br><code>writable</code><br>å½“ä¸”ä»…å½“è¯¥å±æ€§çš„ writable é”®å€¼ä¸º true æ—¶ï¼Œå±æ€§çš„å€¼ï¼Œä¹Ÿå°±æ˜¯ä¸Šé¢çš„ valueï¼Œæ‰èƒ½è¢«èµ‹å€¼è¿ç®—ç¬¦ (en-US)æ”¹å˜ã€‚ é»˜è®¤ä¸º falseã€‚<br>å­˜å–æè¿°ç¬¦è¿˜å…·æœ‰ä»¥ä¸‹å¯é€‰é”®å€¼ï¼š<br><code>get</code><br>å±æ€§çš„ getter å‡½æ•°ï¼Œå¦‚æœæ²¡æœ‰ getterï¼Œåˆ™ä¸º undefinedã€‚å½“è®¿é—®è¯¥å±æ€§æ—¶ï¼Œä¼šè°ƒç”¨æ­¤å‡½æ•°ã€‚æ‰§è¡Œæ—¶ä¸ä¼ å…¥ä»»ä½•å‚æ•°ï¼Œä½†æ˜¯ä¼šä¼ å…¥ this å¯¹è±¡ï¼ˆç”±äºç»§æ‰¿å…³ç³»ï¼Œè¿™é‡Œçš„thiså¹¶ä¸ä¸€å®šæ˜¯å®šä¹‰è¯¥å±æ€§çš„å¯¹è±¡ï¼‰ã€‚è¯¥å‡½æ•°çš„è¿”å›å€¼ä¼šè¢«ç”¨ä½œå±æ€§çš„å€¼ã€‚ é»˜è®¤ä¸º undefinedã€‚<br><code>set</code><br>å±æ€§çš„ setter å‡½æ•°ï¼Œå¦‚æœæ²¡æœ‰ setterï¼Œåˆ™ä¸º undefinedã€‚å½“å±æ€§å€¼è¢«ä¿®æ”¹æ—¶ï¼Œä¼šè°ƒç”¨æ­¤å‡½æ•°ã€‚è¯¥æ–¹æ³•æ¥å—ä¸€ä¸ªå‚æ•°ï¼ˆä¹Ÿå°±æ˜¯è¢«èµ‹äºˆçš„æ–°å€¼ï¼‰ï¼Œä¼šä¼ å…¥èµ‹å€¼æ—¶çš„ this å¯¹è±¡ã€‚ é»˜è®¤ä¸º undefinedã€‚</p>
</li>
</ul>
<hr>
<ul>
<li>defineProperties<blockquote>
<p>åŒdefineProperty</p>
</blockquote>
<pre class="line-numbers language-javascript" data-language="javascript"><code class="language-javascript"><span class="token keyword">var</span> obj <span class="token operator">=</span> <span class="token punctuation">&#123;</span><span class="token punctuation">&#125;</span><span class="token punctuation">;</span>
Object<span class="token punctuation">.</span><span class="token function">defineProperties</span><span class="token punctuation">(</span>obj<span class="token punctuation">,</span> <span class="token punctuation">&#123;</span>
  <span class="token string-property property">'property1'</span><span class="token operator">:</span> <span class="token punctuation">&#123;</span>
    <span class="token literal-property property">value</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
    <span class="token literal-property property">writable</span><span class="token operator">:</span> <span class="token boolean">true</span>
  <span class="token punctuation">&#125;</span><span class="token punctuation">,</span>
  <span class="token string-property property">'property2'</span><span class="token operator">:</span> <span class="token punctuation">&#123;</span>
    <span class="token literal-property property">value</span><span class="token operator">:</span> <span class="token string">'Hello'</span><span class="token punctuation">,</span>
    <span class="token literal-property property">writable</span><span class="token operator">:</span> <span class="token boolean">false</span>
  <span class="token punctuation">&#125;</span>
<span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></li>
</ul>
<hr>
<ul>
<li>entries<blockquote>
<p>åŠŸèƒ½ï¼šè¿”å›ä¸€ä¸ªç»™å®šå¯¹è±¡è‡ªèº«å¯æšä¸¾å±æ€§çš„é”®å€¼å¯¹æ•°ç»„ï¼Œå…¶æ’åˆ—ä¸ä½¿ç”¨ forâ€¦in å¾ªç¯éå†è¯¥å¯¹è±¡æ—¶è¿”å›çš„é¡ºåºä¸€è‡´ï¼ˆåŒºåˆ«åœ¨äº for-in å¾ªç¯è¿˜ä¼šæšä¸¾åŸå‹é“¾ä¸­çš„å±æ€§ï¼‰ã€‚<br>è¿”å›å€¼ï¼š<code>Array</code>ç»™å®šå¯¹è±¡è‡ªèº«å¯æšä¸¾å±æ€§çš„é”®å€¼å¯¹æ•°ç»„ã€‚<br>å‚æ•°ï¼š<code>(obj)</code><br><code>obj</code>ï¼šå¯ä»¥è¿”å›å…¶å¯æšä¸¾å±æ€§çš„é”®å€¼å¯¹çš„å¯¹è±¡ã€‚</p>
</blockquote>
<pre class="line-numbers language-javascript" data-language="javascript"><code class="language-javascript"><span class="token keyword">const</span> object1 <span class="token operator">=</span> <span class="token punctuation">&#123;</span>
  <span class="token literal-property property">a</span><span class="token operator">:</span> <span class="token string">'somestring'</span><span class="token punctuation">,</span>
  <span class="token literal-property property">b</span><span class="token operator">:</span> <span class="token number">42</span>
<span class="token punctuation">&#125;</span><span class="token punctuation">;</span>

<span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">const</span> <span class="token punctuation">[</span>key<span class="token punctuation">,</span> value<span class="token punctuation">]</span> <span class="token keyword">of</span> Object<span class="token punctuation">.</span><span class="token function">entries</span><span class="token punctuation">(</span>object1<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">$&#123;</span>key<span class="token interpolation-punctuation punctuation">&#125;</span></span><span class="token string">: </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">$&#123;</span>value<span class="token interpolation-punctuation punctuation">&#125;</span></span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">&#125;</span>

<span class="token comment">// expected output:</span>
<span class="token comment">// "a: somestring"</span>
<span class="token comment">// "b: 42"</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></li>
</ul>
<hr>
<ul>
<li>freeze<blockquote>
<p>åŠŸèƒ½ï¼šå¯ä»¥å†»ç»“ä¸€ä¸ªå¯¹è±¡ã€‚ä¸€ä¸ªè¢«å†»ç»“çš„å¯¹è±¡å†ä¹Ÿä¸èƒ½è¢«ä¿®æ”¹ï¼›å†»ç»“äº†ä¸€ä¸ªå¯¹è±¡åˆ™ä¸èƒ½å‘è¿™ä¸ªå¯¹è±¡æ·»åŠ æ–°çš„å±æ€§ï¼Œä¸èƒ½åˆ é™¤å·²æœ‰å±æ€§ï¼Œä¸èƒ½ä¿®æ”¹è¯¥å¯¹è±¡å·²æœ‰å±æ€§çš„å¯æšä¸¾æ€§ã€å¯é…ç½®æ€§ã€å¯å†™æ€§ï¼Œä»¥åŠä¸èƒ½ä¿®æ”¹å·²æœ‰å±æ€§çš„å€¼ã€‚æ­¤å¤–ï¼Œå†»ç»“ä¸€ä¸ªå¯¹è±¡åè¯¥å¯¹è±¡çš„åŸå‹ä¹Ÿä¸èƒ½è¢«ä¿®æ”¹ã€‚<br>è¿”å›å€¼ï¼š<code>Object</code>è¢«å†»ç»“çš„å¯¹è±¡ã€‚<br>å‚æ•°ï¼š<code>(obj)</code><br><code>obj</code>ï¼šéœ€è¦è¢«å†»ç»“çš„å¯¹è±¡ã€‚</p>
</blockquote>
<pre class="line-numbers language-javascript" data-language="javascript"><code class="language-javascript"><span class="token keyword">const</span> obj <span class="token operator">=</span> <span class="token punctuation">&#123;</span>
  <span class="token literal-property property">prop</span><span class="token operator">:</span> <span class="token number">42</span>
<span class="token punctuation">&#125;</span><span class="token punctuation">;</span>

Object<span class="token punctuation">.</span><span class="token function">freeze</span><span class="token punctuation">(</span>obj<span class="token punctuation">)</span><span class="token punctuation">;</span>

obj<span class="token punctuation">.</span>prop <span class="token operator">=</span> <span class="token number">33</span><span class="token punctuation">;</span>
<span class="token comment">// Throws an error in strict mode</span>

console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>obj<span class="token punctuation">.</span>prop<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// expected output: 42</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>å¦‚æœä¸€ä¸ªå±æ€§çš„å€¼æ˜¯ä¸ªå¯¹è±¡ï¼Œåˆ™è¿™ä¸ªå¯¹è±¡ä¸­çš„å±æ€§æ˜¯å¯ä»¥ä¿®æ”¹çš„ï¼Œé™¤éå®ƒä¹Ÿæ˜¯ä¸ªå†»ç»“å¯¹è±¡ã€‚æ•°ç»„ä½œä¸ºä¸€ç§å¯¹è±¡ï¼Œè¢«å†»ç»“ï¼Œå…¶å…ƒç´ ä¸èƒ½è¢«ä¿®æ”¹ã€‚æ²¡æœ‰æ•°ç»„å…ƒç´ å¯ä»¥è¢«æ·»åŠ æˆ–ç§»é™¤ã€‚</p>
<pre class="line-numbers language-javascript" data-language="javascript"><code class="language-javascript"><span class="token keyword">let</span> a <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
Object<span class="token punctuation">.</span><span class="token function">freeze</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// ç°åœ¨æ•°ç»„ä¸èƒ½è¢«ä¿®æ”¹äº†ã€‚</span>

a<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">;</span> <span class="token comment">// fails silently</span>
a<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// fails silently</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<pre class="line-numbers language-javascript" data-language="javascript"><code class="language-javascript">obj1 <span class="token operator">=</span> <span class="token punctuation">&#123;</span>
  <span class="token literal-property property">internal</span><span class="token operator">:</span> <span class="token punctuation">&#123;</span><span class="token punctuation">&#125;</span>
<span class="token punctuation">&#125;</span><span class="token punctuation">;</span>

Object<span class="token punctuation">.</span><span class="token function">freeze</span><span class="token punctuation">(</span>obj1<span class="token punctuation">)</span><span class="token punctuation">;</span>
obj1<span class="token punctuation">.</span>internal<span class="token punctuation">.</span>a <span class="token operator">=</span> <span class="token string">'aValue'</span><span class="token punctuation">;</span>

obj1<span class="token punctuation">.</span>internal<span class="token punctuation">.</span>a <span class="token comment">// 'aValue'</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>æ·±å†»ç»“</p>
<pre class="line-numbers language-javascript" data-language="javascript"><code class="language-javascript"><span class="token comment">// æ·±å†»ç»“å‡½æ•°ã€‚</span>
<span class="token keyword">function</span> <span class="token function">deepFreeze</span><span class="token punctuation">(</span><span class="token parameter">obj</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>

  <span class="token comment">// å–å›å®šä¹‰åœ¨ obj ä¸Šçš„å±æ€§å</span>
  <span class="token keyword">var</span> propNames <span class="token operator">=</span> Object<span class="token punctuation">.</span><span class="token function">getOwnPropertyNames</span><span class="token punctuation">(</span>obj<span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token comment">// åœ¨å†»ç»“è‡ªèº«ä¹‹å‰å†»ç»“å±æ€§</span>
  propNames<span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">name</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
    <span class="token keyword">var</span> prop <span class="token operator">=</span> obj<span class="token punctuation">[</span>name<span class="token punctuation">]</span><span class="token punctuation">;</span>

    <span class="token comment">// å¦‚æœ prop æ˜¯ä¸ªå¯¹è±¡ï¼Œå†»ç»“å®ƒ</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">typeof</span> prop <span class="token operator">==</span> <span class="token string">'object'</span> <span class="token operator">&amp;&amp;</span> prop <span class="token operator">!==</span> <span class="token keyword">null</span><span class="token punctuation">)</span>
      <span class="token function">deepFreeze</span><span class="token punctuation">(</span>prop<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token comment">// å†»ç»“è‡ªèº« (no-op if already frozen)</span>
  <span class="token keyword">return</span> Object<span class="token punctuation">.</span><span class="token function">freeze</span><span class="token punctuation">(</span>obj<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">&#125;</span>

obj2 <span class="token operator">=</span> <span class="token punctuation">&#123;</span>
  <span class="token literal-property property">internal</span><span class="token operator">:</span> <span class="token punctuation">&#123;</span><span class="token punctuation">&#125;</span>
<span class="token punctuation">&#125;</span><span class="token punctuation">;</span>

<span class="token function">deepFreeze</span><span class="token punctuation">(</span>obj2<span class="token punctuation">)</span><span class="token punctuation">;</span>
obj2<span class="token punctuation">.</span>internal<span class="token punctuation">.</span>a <span class="token operator">=</span> <span class="token string">'anotherValue'</span><span class="token punctuation">;</span>
obj2<span class="token punctuation">.</span>internal<span class="token punctuation">.</span>a<span class="token punctuation">;</span> <span class="token comment">// undefined</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></li>
</ul>
<hr>
<ul>
<li>getOwnPropertyDescriptor<blockquote>
<p>åŠŸèƒ½ï¼šè¿”å›æŒ‡å®šå¯¹è±¡ä¸Šä¸€ä¸ªè‡ªæœ‰å±æ€§å¯¹åº”çš„å±æ€§æè¿°ç¬¦ã€‚<br>è¿”å›å€¼ï¼š<code>Object|undefined</code>å¦‚æœæŒ‡å®šçš„å±æ€§å­˜åœ¨äºå¯¹è±¡ä¸Šï¼Œåˆ™è¿”å›å…¶å±æ€§æè¿°ç¬¦å¯¹è±¡ï¼ˆproperty descriptorï¼‰ï¼Œå¦åˆ™è¿”å› undefinedã€‚<br>å‚æ•°ï¼š<code>(obj, prop)</code><br><code>obj</code>ï¼šéœ€è¦æŸ¥æ‰¾çš„ç›®æ ‡å¯¹è±¡<br><code>prop</code>: ç›®æ ‡å¯¹è±¡å†…å±æ€§åç§°</p>
</blockquote>
<pre class="line-numbers language-javascript" data-language="javascript"><code class="language-javascript"><span class="token keyword">const</span> object1 <span class="token operator">=</span> <span class="token punctuation">&#123;</span>
  <span class="token literal-property property">property1</span><span class="token operator">:</span> <span class="token number">42</span>
<span class="token punctuation">&#125;</span><span class="token punctuation">;</span>

<span class="token keyword">const</span> descriptor1 <span class="token operator">=</span> Object<span class="token punctuation">.</span><span class="token function">getOwnPropertyDescriptor</span><span class="token punctuation">(</span>object1<span class="token punctuation">,</span> <span class="token string">'property1'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>descriptor1<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// &#123;value: 42, writable: true, enumerable: true, configurable: true&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></li>
</ul>
<hr>
<ul>
<li>getOwnPropertyNames<blockquote>
<p>åŠŸèƒ½ï¼šè¿”å›ä¸€ä¸ªç”±æŒ‡å®šå¯¹è±¡çš„æ‰€æœ‰è‡ªèº«å±æ€§çš„å±æ€§åç»„æˆçš„æ•°ç»„ã€‚<br>è¿”å›å€¼ï¼š<code>Array</code>åœ¨ç»™å®šå¯¹è±¡ä¸Šæ‰¾åˆ°çš„è‡ªèº«å±æ€§å¯¹åº”çš„å­—ç¬¦ä¸²æ•°ç»„ã€‚<br>å‚æ•°ï¼š<code>(obj)</code><br><code>obj</code>ï¼šä¸€ä¸ªå¯¹è±¡ï¼Œå…¶è‡ªèº«çš„å¯æšä¸¾å’Œä¸å¯æšä¸¾å±æ€§çš„åç§°è¢«è¿”å›ã€‚</p>
</blockquote>
<pre class="line-numbers language-javascript" data-language="javascript"><code class="language-javascript"><span class="token keyword">var</span> arr <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">"a"</span><span class="token punctuation">,</span> <span class="token string">"b"</span><span class="token punctuation">,</span> <span class="token string">"c"</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>Object<span class="token punctuation">.</span><span class="token function">getOwnPropertyNames</span><span class="token punctuation">(</span>arr<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">sort</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// ["0", "1", "2", "length"]</span>

<span class="token comment">// ç±»æ•°ç»„å¯¹è±¡</span>
<span class="token keyword">var</span> obj <span class="token operator">=</span> <span class="token punctuation">&#123;</span> <span class="token number">0</span><span class="token operator">:</span> <span class="token string">"a"</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token operator">:</span> <span class="token string">"b"</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token operator">:</span> <span class="token string">"c"</span><span class="token punctuation">&#125;</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>Object<span class="token punctuation">.</span><span class="token function">getOwnPropertyNames</span><span class="token punctuation">(</span>obj<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">sort</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// ["0", "1", "2"]</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></li>
</ul>
<hr>
<ul>
<li>getOwnPropertySymbols<blockquote>
<p>åŠŸèƒ½ï¼šè¿”å›ä¸€ä¸ªç»™å®šå¯¹è±¡è‡ªèº«çš„æ‰€æœ‰ Symbol å±æ€§çš„æ•°ç»„ã€‚<br>è¿”å›å€¼ï¼š<code>Array</code>åœ¨ç»™å®šå¯¹è±¡è‡ªèº«ä¸Šæ‰¾åˆ°çš„æ‰€æœ‰ Symbol å±æ€§çš„æ•°ç»„ã€‚<br>å‚æ•°ï¼š<code>(obj)</code><br><code>obj</code>ï¼šè¦è¿”å› Symbol å±æ€§çš„å¯¹è±¡ã€‚</p>
</blockquote>
<pre class="line-numbers language-javascript" data-language="javascript"><code class="language-javascript"><span class="token keyword">var</span> obj <span class="token operator">=</span> <span class="token punctuation">&#123;</span><span class="token punctuation">&#125;</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> a <span class="token operator">=</span> <span class="token function">Symbol</span><span class="token punctuation">(</span><span class="token string">"a"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> b <span class="token operator">=</span> Symbol<span class="token punctuation">.</span><span class="token function">for</span><span class="token punctuation">(</span><span class="token string">"b"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

obj<span class="token punctuation">[</span>a<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token string">"localSymbol"</span><span class="token punctuation">;</span>
obj<span class="token punctuation">[</span>b<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token string">"globalSymbol"</span><span class="token punctuation">;</span>

<span class="token keyword">var</span> objectSymbols <span class="token operator">=</span> Object<span class="token punctuation">.</span><span class="token function">getOwnPropertySymbols</span><span class="token punctuation">(</span>obj<span class="token punctuation">)</span><span class="token punctuation">;</span>

console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>objectSymbols<span class="token punctuation">.</span>length<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 2</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>objectSymbols<span class="token punctuation">)</span>         <span class="token comment">// [Symbol(a), Symbol(b)]</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>objectSymbols<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">)</span>      <span class="token comment">// Symbol(a)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></li>
</ul>
<hr>
<ul>
<li>getPrototypeOf<blockquote>
<p>åŠŸèƒ½ï¼šæ–¹æ³•è¿”å›æŒ‡å®šå¯¹è±¡çš„åŸå‹ï¼ˆå†…éƒ¨[[Prototype]]å±æ€§çš„å€¼ï¼‰ã€‚<br>è¿”å›å€¼ï¼š<code>Object|null</code>ç»™å®šå¯¹è±¡çš„åŸå‹ã€‚å¦‚æœæ²¡æœ‰ç»§æ‰¿å±æ€§ï¼Œåˆ™è¿”å› nullã€‚<br>å‚æ•°ï¼š<code>(obj)</code><br><code>obj</code>ï¼šè¦è¿”å›å…¶åŸå‹çš„å¯¹è±¡ã€‚</p>
</blockquote>
<pre class="line-numbers language-javascript" data-language="javascript"><code class="language-javascript"><span class="token keyword">const</span> prototype1 <span class="token operator">=</span> <span class="token punctuation">&#123;</span><span class="token punctuation">&#125;</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> object1 <span class="token operator">=</span> Object<span class="token punctuation">.</span><span class="token function">create</span><span class="token punctuation">(</span>prototype1<span class="token punctuation">)</span><span class="token punctuation">;</span>

console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>Object<span class="token punctuation">.</span><span class="token function">getPrototypeOf</span><span class="token punctuation">(</span>object1<span class="token punctuation">)</span> <span class="token operator">===</span> prototype1<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// expected output: true</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre></li>
</ul>
<hr>
<ul>
<li>is<blockquote>
<p>åŠŸèƒ½ï¼šæ–¹æ³•åˆ¤æ–­ä¸¤ä¸ªå€¼æ˜¯å¦ä¸ºåŒä¸€ä¸ªå€¼ã€‚<br>è¿”å›å€¼ï¼š<code>Boolean</code>ä¸€ä¸ªå¸ƒå°”å€¼ï¼Œè¡¨ç¤ºä¸¤ä¸ªå‚æ•°æ˜¯å¦æ˜¯åŒä¸€ä¸ªå€¼ã€‚<br>å‚æ•°ï¼š<code>(value1, value2)</code><br><code>value1</code>ï¼šè¢«æ¯”è¾ƒçš„ç¬¬ä¸€ä¸ªå€¼ã€‚<br><code>value2</code>ï¼šè¢«æ¯”è¾ƒçš„ç¬¬äºŒä¸ªå€¼ã€‚<br>Object.is() æ–¹æ³•åˆ¤æ–­ä¸¤ä¸ªå€¼æ˜¯å¦ä¸ºåŒä¸€ä¸ªå€¼ï¼Œå¦‚æœæ»¡è¶³ä»¥ä¸‹ä»»æ„æ¡ä»¶åˆ™ä¸¤ä¸ªå€¼ç›¸ç­‰ï¼š</p>
</blockquote>
</li>
<li>éƒ½æ˜¯ undefined</li>
<li>éƒ½æ˜¯ null</li>
<li>éƒ½æ˜¯ true æˆ–éƒ½æ˜¯ false</li>
<li>éƒ½æ˜¯ç›¸åŒé•¿åº¦ã€ç›¸åŒå­—ç¬¦ã€æŒ‰ç›¸åŒé¡ºåºæ’åˆ—çš„å­—ç¬¦ä¸²</li>
<li>éƒ½æ˜¯ç›¸åŒå¯¹è±¡ï¼ˆæ„å‘³ç€éƒ½æ˜¯åŒä¸€ä¸ªå¯¹è±¡çš„å€¼å¼•ç”¨ï¼‰</li>
<li>éƒ½æ˜¯æ•°å­—ä¸”</li>
<li>éƒ½æ˜¯ +0</li>
<li>éƒ½æ˜¯ -0</li>
<li>éƒ½æ˜¯ NaN</li>
<li>éƒ½æ˜¯åŒä¸€ä¸ªå€¼ï¼Œéé›¶ä¸”éƒ½ä¸æ˜¯ NaN<br>Object.is() ä¸ &#x3D;&#x3D; ä¸åŒã€‚&#x3D;&#x3D; è¿ç®—ç¬¦åœ¨åˆ¤æ–­ç›¸ç­‰å‰å¯¹ä¸¤è¾¹çš„å˜é‡ï¼ˆå¦‚æœå®ƒä»¬ä¸æ˜¯åŒä¸€ç±»å‹ï¼‰è¿›è¡Œå¼ºåˆ¶è½¬æ¢ï¼ˆè¿™ç§è¡Œä¸ºå°† â€œâ€ &#x3D;&#x3D; false åˆ¤æ–­ä¸º trueï¼‰ï¼Œè€Œ Object.is ä¸ä¼šå¼ºåˆ¶è½¬æ¢ä¸¤è¾¹çš„å€¼ã€‚</li>
</ul>
<p>Object.is() ä¸ &#x3D;&#x3D;&#x3D; ä¹Ÿä¸ç›¸åŒã€‚å·®åˆ«æ˜¯å®ƒä»¬å¯¹å¾…æœ‰ç¬¦å·çš„é›¶å’Œ NaN ä¸åŒï¼Œä¾‹å¦‚ï¼Œ&#x3D;&#x3D;&#x3D; è¿ç®—ç¬¦ï¼ˆä¹ŸåŒ…æ‹¬ &#x3D;&#x3D; è¿ç®—ç¬¦ï¼‰å°†æ•°å­— -0 å’Œ +0 è§†ä¸ºç›¸ç­‰ï¼Œè€Œå°† Number.NaN ä¸ NaN è§†ä¸ºä¸ç›¸ç­‰ã€‚</p>
<hr>
<ul>
<li>isExtensible<blockquote>
<p>åŠŸèƒ½ï¼šåˆ¤æ–­ä¸€ä¸ªå¯¹è±¡æ˜¯å¦æ˜¯å¯æ‰©å±•çš„ï¼ˆæ˜¯å¦å¯ä»¥åœ¨å®ƒä¸Šé¢æ·»åŠ æ–°çš„å±æ€§ï¼‰ã€‚<br>è¿”å›å€¼ï¼š<code>Boolean</code>è¡¨ç¤ºç»™å®šå¯¹è±¡æ˜¯å¦å¯æ‰©å±•çš„ä¸€ä¸ªBooleanã€‚<br>å‚æ•°ï¼š<code>(obj)</code><br><code>obj</code>ï¼šéœ€è¦æ£€æµ‹çš„å¯¹è±¡</p>
</blockquote>
<pre class="line-numbers language-javascript" data-language="javascript"><code class="language-javascript"><span class="token comment">// æ–°å¯¹è±¡é»˜è®¤æ˜¯å¯æ‰©å±•çš„ã€‚</span>
<span class="token keyword">var</span> empty <span class="token operator">=</span> <span class="token punctuation">&#123;</span><span class="token punctuation">&#125;</span><span class="token punctuation">;</span>
Object<span class="token punctuation">.</span><span class="token function">isExtensible</span><span class="token punctuation">(</span>empty<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// === true</span>

<span class="token comment">// ...å¯ä»¥å˜çš„ä¸å¯æ‰©å±•ã€‚</span>
Object<span class="token punctuation">.</span><span class="token function">preventExtensions</span><span class="token punctuation">(</span>empty<span class="token punctuation">)</span><span class="token punctuation">;</span>
Object<span class="token punctuation">.</span><span class="token function">isExtensible</span><span class="token punctuation">(</span>empty<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// === false</span>

<span class="token comment">// å¯†å°å¯¹è±¡æ˜¯ä¸å¯æ‰©å±•çš„ã€‚</span>
<span class="token keyword">var</span> sealed <span class="token operator">=</span> Object<span class="token punctuation">.</span><span class="token function">seal</span><span class="token punctuation">(</span><span class="token punctuation">&#123;</span><span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
Object<span class="token punctuation">.</span><span class="token function">isExtensible</span><span class="token punctuation">(</span>sealed<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// === false</span>

<span class="token comment">// å†»ç»“å¯¹è±¡ä¹Ÿæ˜¯ä¸å¯æ‰©å±•ã€‚</span>
<span class="token keyword">var</span> frozen <span class="token operator">=</span> Object<span class="token punctuation">.</span><span class="token function">freeze</span><span class="token punctuation">(</span><span class="token punctuation">&#123;</span><span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
Object<span class="token punctuation">.</span><span class="token function">isExtensible</span><span class="token punctuation">(</span>frozen<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// === false</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>é»˜è®¤æƒ…å†µä¸‹ï¼Œå¯¹è±¡æ˜¯å¯æ‰©å±•çš„ï¼šå³å¯ä»¥ä¸ºä»–ä»¬æ·»åŠ æ–°çš„å±æ€§ã€‚ä»¥åŠå®ƒä»¬çš„ __proto__å·²å¼ƒç”¨ å±æ€§å¯ä»¥è¢«æ›´æ”¹ã€‚Object.preventExtensionsï¼ŒObject.seal æˆ– Object.freeze æ–¹æ³•éƒ½å¯ä»¥æ ‡è®°ä¸€ä¸ªå¯¹è±¡ä¸ºä¸å¯æ‰©å±•ï¼ˆnon-extensibleï¼‰ã€‚</p>
</li>
</ul>
<hr>
<ul>
<li>isFrozen<blockquote>
<p>åŠŸèƒ½ï¼šåˆ¤æ–­ä¸€ä¸ªå¯¹è±¡æ˜¯å¦è¢«å†»ç»“ã€‚<br>è¿”å›å€¼ï¼š<code>Boolean</code>è¡¨ç¤ºç»™å®šå¯¹è±¡æ˜¯å¦è¢«å†»ç»“çš„Booleanã€‚<br>å‚æ•°ï¼š<code>(obj)</code><br><code>obj</code>ï¼šéœ€è¦æ£€æµ‹çš„å¯¹è±¡</p>
</blockquote>
</li>
</ul>
<hr>
<ul>
<li>isSealed<blockquote>
<p>åŠŸèƒ½ï¼šå°é—­ä¸€ä¸ªå¯¹è±¡ï¼Œé˜»æ­¢æ·»åŠ æ–°å±æ€§å¹¶å°†æ‰€æœ‰ç°æœ‰å±æ€§æ ‡è®°ä¸ºä¸å¯é…ç½®ã€‚å½“å‰å±æ€§çš„å€¼åªè¦åŸæ¥æ˜¯å¯å†™çš„å°±å¯ä»¥æ”¹å˜ã€‚<br>è¿”å›å€¼ï¼š<code>Array</code>è¢«å¯†å°çš„å¯¹è±¡ã€‚<br>å‚æ•°ï¼š<code>(obj)</code><br><code>obj</code>ï¼šå°†è¦è¢«å¯†å°çš„å¯¹è±¡</p>
</blockquote>
<pre class="line-numbers language-javascript" data-language="javascript"><code class="language-javascript"><span class="token keyword">const</span> object1 <span class="token operator">=</span> <span class="token punctuation">&#123;</span>
  <span class="token literal-property property">property1</span><span class="token operator">:</span> <span class="token number">42</span>
<span class="token punctuation">&#125;</span><span class="token punctuation">;</span>

Object<span class="token punctuation">.</span><span class="token function">seal</span><span class="token punctuation">(</span>object1<span class="token punctuation">)</span><span class="token punctuation">;</span>
object1<span class="token punctuation">.</span>property1 <span class="token operator">=</span> <span class="token number">33</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>object1<span class="token punctuation">.</span>property1<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// expected output: 33</span>

<span class="token keyword">delete</span> object1<span class="token punctuation">.</span>property1<span class="token punctuation">;</span> <span class="token comment">// cannot delete when sealed</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>object1<span class="token punctuation">.</span>property1<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// expected output: 33</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></li>
</ul>
<hr>
<ul>
<li>keys<blockquote>
<p>åŠŸèƒ½ï¼šè¿”å›ä¸€ä¸ªç”±ä¸€ä¸ªç»™å®šå¯¹è±¡çš„è‡ªèº«å¯æšä¸¾å±æ€§ç»„æˆçš„æ•°ç»„ã€‚<br>è¿”å›å€¼ï¼š<code>Array</code>ä¸€ä¸ªè¡¨ç¤ºç»™å®šå¯¹è±¡çš„æ‰€æœ‰å¯æšä¸¾å±æ€§çš„å­—ç¬¦ä¸²æ•°ç»„ã€‚<br>å‚æ•°ï¼š<code>(obj)</code><br><code>obj</code>ï¼šè¦è¿”å›å…¶æšä¸¾è‡ªèº«å±æ€§çš„å¯¹è±¡ã€‚</p>
</blockquote>
<pre class="line-numbers language-javascript" data-language="javascript"><code class="language-javascript"><span class="token comment">// simple array</span>
<span class="token keyword">var</span> arr <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">'a'</span><span class="token punctuation">,</span> <span class="token string">'b'</span><span class="token punctuation">,</span> <span class="token string">'c'</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>Object<span class="token punctuation">.</span><span class="token function">keys</span><span class="token punctuation">(</span>arr<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// console: ['0', '1', '2']</span>

<span class="token comment">// array like object</span>
<span class="token keyword">var</span> obj <span class="token operator">=</span> <span class="token punctuation">&#123;</span> <span class="token number">0</span><span class="token operator">:</span> <span class="token string">'a'</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token operator">:</span> <span class="token string">'b'</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token operator">:</span> <span class="token string">'c'</span> <span class="token punctuation">&#125;</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>Object<span class="token punctuation">.</span><span class="token function">keys</span><span class="token punctuation">(</span>obj<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// console: ['0', '1', '2']</span>

<span class="token comment">// array like object with random key ordering</span>
<span class="token keyword">var</span> anObj <span class="token operator">=</span> <span class="token punctuation">&#123;</span> <span class="token number">100</span><span class="token operator">:</span> <span class="token string">'a'</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token operator">:</span> <span class="token string">'b'</span><span class="token punctuation">,</span> <span class="token number">7</span><span class="token operator">:</span> <span class="token string">'c'</span> <span class="token punctuation">&#125;</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>Object<span class="token punctuation">.</span><span class="token function">keys</span><span class="token punctuation">(</span>anObj<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// console: ['2', '7', '100']</span>

<span class="token comment">// getFoo is a property which isn't enumerable</span>
<span class="token keyword">var</span> myObj <span class="token operator">=</span> Object<span class="token punctuation">.</span><span class="token function">create</span><span class="token punctuation">(</span><span class="token punctuation">&#123;</span><span class="token punctuation">&#125;</span><span class="token punctuation">,</span> <span class="token punctuation">&#123;</span>
  <span class="token literal-property property">getFoo</span><span class="token operator">:</span> <span class="token punctuation">&#123;</span>
    <span class="token function-variable function">value</span><span class="token operator">:</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span> <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span>foo<span class="token punctuation">;</span> <span class="token punctuation">&#125;</span>
  <span class="token punctuation">&#125;</span>
<span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
myObj<span class="token punctuation">.</span>foo <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>Object<span class="token punctuation">.</span><span class="token function">keys</span><span class="token punctuation">(</span>myObj<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// console: ['foo']</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></li>
</ul>
<hr>
<ul>
<li>preventExtensions<blockquote>
<p>åŠŸèƒ½ï¼šè®©ä¸€ä¸ªå¯¹è±¡å˜çš„ä¸å¯æ‰©å±•ï¼Œä¹Ÿå°±æ˜¯æ°¸è¿œä¸èƒ½å†æ·»åŠ æ–°çš„å±æ€§ã€‚<br>è¿”å›å€¼ï¼š<code>Object</code>å·²ç»ä¸å¯æ‰©å±•çš„å¯¹è±¡ã€‚<br>å‚æ•°ï¼š<code>(obj)</code><br><code>obj</code>ï¼šå°†è¦å˜å¾—ä¸å¯æ‰©å±•çš„å¯¹è±¡ã€‚</p>
</blockquote>
<pre class="line-numbers language-javascript" data-language="javascript"><code class="language-javascript"><span class="token keyword">const</span> object1 <span class="token operator">=</span> <span class="token punctuation">&#123;</span><span class="token punctuation">&#125;</span><span class="token punctuation">;</span>

Object<span class="token punctuation">.</span><span class="token function">preventExtensions</span><span class="token punctuation">(</span>object1<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">try</span> <span class="token punctuation">&#123;</span>
  Object<span class="token punctuation">.</span><span class="token function">defineProperty</span><span class="token punctuation">(</span>object1<span class="token punctuation">,</span> <span class="token string">'property1'</span><span class="token punctuation">,</span> <span class="token punctuation">&#123;</span>
    <span class="token literal-property property">value</span><span class="token operator">:</span> <span class="token number">42</span>
  <span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">&#125;</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span>e<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>e<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token comment">// expected output: TypeError: Cannot define property property1, object is not extensible</span>
<span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></li>
</ul>
<hr>
<ul>
<li>seal<blockquote>
<p>åŠŸèƒ½ï¼šå°é—­ä¸€ä¸ªå¯¹è±¡ï¼Œé˜»æ­¢æ·»åŠ æ–°å±æ€§å¹¶å°†æ‰€æœ‰ç°æœ‰å±æ€§æ ‡è®°ä¸ºä¸å¯é…ç½®ã€‚å½“å‰å±æ€§çš„å€¼åªè¦åŸæ¥æ˜¯å¯å†™çš„å°±å¯ä»¥æ”¹å˜ã€‚<br>è¿”å›å€¼ï¼š<code>Object</code>è¢«å¯†å°çš„å¯¹è±¡ã€‚<br>å‚æ•°ï¼š<code>(obj)</code><br><code>obj</code>ï¼šå°†è¦è¢«å¯†å°çš„å¯¹è±¡ã€‚</p>
</blockquote>
<pre class="line-numbers language-javascript" data-language="javascript"><code class="language-javascript"><span class="token keyword">const</span> object1 <span class="token operator">=</span> <span class="token punctuation">&#123;</span>
  <span class="token literal-property property">property1</span><span class="token operator">:</span> <span class="token number">42</span>
<span class="token punctuation">&#125;</span><span class="token punctuation">;</span>

Object<span class="token punctuation">.</span><span class="token function">seal</span><span class="token punctuation">(</span>object1<span class="token punctuation">)</span><span class="token punctuation">;</span>
object1<span class="token punctuation">.</span>property1 <span class="token operator">=</span> <span class="token number">33</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>object1<span class="token punctuation">.</span>property1<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// expected output: 33</span>

<span class="token keyword">delete</span> object1<span class="token punctuation">.</span>property1<span class="token punctuation">;</span> <span class="token comment">// cannot delete when sealed</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>object1<span class="token punctuation">.</span>property1<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// expected output: 33</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></li>
</ul>
<hr>
<ul>
<li>setPrototypeOf<br>è®¾ç½®ä¸€ä¸ªæŒ‡å®šçš„å¯¹è±¡çš„åŸå‹ï¼ˆå³ï¼Œå†…éƒ¨ [[Prototype]] å±æ€§ï¼‰åˆ°å¦ä¸€ä¸ªå¯¹è±¡æˆ– nullã€‚</li>
</ul>
<hr>
<ul>
<li>values<blockquote>
<p>åŠŸèƒ½ï¼šè¿”å›ä¸€ä¸ªç»™å®šå¯¹è±¡è‡ªèº«çš„æ‰€æœ‰å¯æšä¸¾å±æ€§å€¼çš„æ•°ç»„ï¼Œå€¼çš„é¡ºåºä¸ä½¿ç”¨forâ€¦inå¾ªç¯çš„é¡ºåºç›¸åŒ ( åŒºåˆ«åœ¨äº for-in å¾ªç¯æšä¸¾åŸå‹é“¾ä¸­çš„å±æ€§ )ã€‚<br>è¿”å›å€¼ï¼š<code>Object</code>è¢«è¿”å›å¯æšä¸¾å±æ€§å€¼çš„å¯¹è±¡ã€‚<br>å‚æ•°ï¼š<code>(obj)</code><br><code>obj</code>ï¼šè¢«è¿”å›å¯æšä¸¾å±æ€§å€¼çš„å¯¹è±¡ã€‚</p>
</blockquote>
<pre class="line-numbers language-javascript" data-language="javascript"><code class="language-javascript"><span class="token keyword">var</span> obj <span class="token operator">=</span> <span class="token punctuation">&#123;</span> <span class="token literal-property property">foo</span><span class="token operator">:</span> <span class="token string">'bar'</span><span class="token punctuation">,</span> <span class="token literal-property property">baz</span><span class="token operator">:</span> <span class="token number">42</span> <span class="token punctuation">&#125;</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>Object<span class="token punctuation">.</span><span class="token function">values</span><span class="token punctuation">(</span>obj<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// ['bar', 42]</span>

<span class="token comment">// array like object</span>
<span class="token keyword">var</span> obj <span class="token operator">=</span> <span class="token punctuation">&#123;</span> <span class="token number">0</span><span class="token operator">:</span> <span class="token string">'a'</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token operator">:</span> <span class="token string">'b'</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token operator">:</span> <span class="token string">'c'</span> <span class="token punctuation">&#125;</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>Object<span class="token punctuation">.</span><span class="token function">values</span><span class="token punctuation">(</span>obj<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// ['a', 'b', 'c']</span>

<span class="token comment">// array like object with random key ordering</span>
<span class="token comment">// when we use numeric keys, the value returned in a numerical order according to the keys</span>
<span class="token keyword">var</span> an_obj <span class="token operator">=</span> <span class="token punctuation">&#123;</span> <span class="token number">100</span><span class="token operator">:</span> <span class="token string">'a'</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token operator">:</span> <span class="token string">'b'</span><span class="token punctuation">,</span> <span class="token number">7</span><span class="token operator">:</span> <span class="token string">'c'</span> <span class="token punctuation">&#125;</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>Object<span class="token punctuation">.</span><span class="token function">values</span><span class="token punctuation">(</span>an_obj<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// ['b', 'c', 'a']</span>

<span class="token comment">// getFoo is property which isn't enumerable</span>
<span class="token keyword">var</span> my_obj <span class="token operator">=</span> Object<span class="token punctuation">.</span><span class="token function">create</span><span class="token punctuation">(</span><span class="token punctuation">&#123;</span><span class="token punctuation">&#125;</span><span class="token punctuation">,</span> <span class="token punctuation">&#123;</span> <span class="token literal-property property">getFoo</span><span class="token operator">:</span> <span class="token punctuation">&#123;</span> <span class="token function-variable function">value</span><span class="token operator">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span> <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span>foo<span class="token punctuation">;</span> <span class="token punctuation">&#125;</span> <span class="token punctuation">&#125;</span> <span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
my_obj<span class="token punctuation">.</span>foo <span class="token operator">=</span> <span class="token string">'bar'</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>Object<span class="token punctuation">.</span><span class="token function">values</span><span class="token punctuation">(</span>my_obj<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// ['bar']</span>

<span class="token comment">// non-object argument will be coerced to an object</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>Object<span class="token punctuation">.</span><span class="token function">values</span><span class="token punctuation">(</span><span class="token string">'foo'</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// ['f', 'o', 'o']</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></li>
</ul>
<hr>
<h2 id="å®ä¾‹æ–¹æ³•"><a href="#å®ä¾‹æ–¹æ³•" class="headerlink" title="å®ä¾‹æ–¹æ³•"></a>å®ä¾‹æ–¹æ³•</h2><ul>
<li>hasOwnProperty<blockquote>
<p>åŠŸèƒ½ï¼šè¿”å›ä¸€ä¸ªå¸ƒå°”å€¼ï¼ŒæŒ‡ç¤ºå¯¹è±¡è‡ªèº«å±æ€§ä¸­æ˜¯å¦å…·æœ‰æŒ‡å®šçš„å±æ€§ï¼ˆä¹Ÿå°±æ˜¯ï¼Œæ˜¯å¦æœ‰æŒ‡å®šçš„é”®ï¼‰ï¼Œè¯¥æ–¹æ³•ä¼šå¿½ç•¥æ‰é‚£äº›ä»åŸå‹é“¾ä¸Šç»§æ‰¿åˆ°çš„å±æ€§ã€‚<br>è¿”å›å€¼ï¼š<code>Boolean</code>ç”¨æ¥åˆ¤æ–­æŸä¸ªå¯¹è±¡æ˜¯å¦å«æœ‰æŒ‡å®šçš„å±æ€§çš„å¸ƒå°”å€¼Booleanã€‚<br>å‚æ•°ï¼š<code>(prop)</code><br><code>prop</code>ï¼šè¦æ£€æµ‹çš„å±æ€§çš„ String å­—ç¬¦ä¸²å½¢å¼è¡¨ç¤ºçš„åç§°</p>
</blockquote>
<pre class="line-numbers language-javascript" data-language="javascript"><code class="language-javascript"><span class="token keyword">const</span> object1 <span class="token operator">=</span> <span class="token punctuation">&#123;</span><span class="token punctuation">&#125;</span><span class="token punctuation">;</span>
object1<span class="token punctuation">.</span>property1 <span class="token operator">=</span> <span class="token number">42</span><span class="token punctuation">;</span>

console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>object1<span class="token punctuation">.</span><span class="token function">hasOwnProperty</span><span class="token punctuation">(</span><span class="token string">'property1'</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// expected output: true</span>

console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>object1<span class="token punctuation">.</span><span class="token function">hasOwnProperty</span><span class="token punctuation">(</span><span class="token string">'toString'</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// expected output: false</span>

console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>object1<span class="token punctuation">.</span><span class="token function">hasOwnProperty</span><span class="token punctuation">(</span><span class="token string">'hasOwnProperty'</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// expected output: false</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></li>
</ul>
<hr>
<ul>
<li>isPrototypeOf<blockquote>
<p>åŠŸèƒ½ï¼šæµ‹è¯•ä¸€ä¸ªå¯¹è±¡æ˜¯å¦å­˜åœ¨äºå¦ä¸€ä¸ªå¯¹è±¡çš„åŸå‹é“¾ä¸Šã€‚<br>è¿”å›å€¼ï¼š<code>Boolean</code>è¡¨ç¤ºè°ƒç”¨å¯¹è±¡æ˜¯å¦åœ¨å¦ä¸€ä¸ªå¯¹è±¡çš„åŸå‹é“¾ä¸Šã€‚<br>å‚æ•°ï¼š<code>(object)</code><br><code>object</code>ï¼šåœ¨è¯¥å¯¹è±¡çš„åŸå‹é“¾ä¸Šæœå¯»</p>
</blockquote>
<pre class="line-numbers language-javascript" data-language="javascript"><code class="language-javascript"><span class="token keyword">function</span> <span class="token function">Foo</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span><span class="token punctuation">&#125;</span>
<span class="token keyword">function</span> <span class="token function">Bar</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span><span class="token punctuation">&#125;</span>
<span class="token keyword">function</span> <span class="token function">Baz</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span><span class="token punctuation">&#125;</span>

<span class="token class-name">Bar</span><span class="token punctuation">.</span>prototype <span class="token operator">=</span> Object<span class="token punctuation">.</span><span class="token function">create</span><span class="token punctuation">(</span><span class="token class-name">Foo</span><span class="token punctuation">.</span>prototype<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token class-name">Baz</span><span class="token punctuation">.</span>prototype <span class="token operator">=</span> Object<span class="token punctuation">.</span><span class="token function">create</span><span class="token punctuation">(</span><span class="token class-name">Bar</span><span class="token punctuation">.</span>prototype<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">var</span> baz <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Baz</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token class-name">Baz</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function">isPrototypeOf</span><span class="token punctuation">(</span>baz<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// true</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token class-name">Bar</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function">isPrototypeOf</span><span class="token punctuation">(</span>baz<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// true</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token class-name">Foo</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function">isPrototypeOf</span><span class="token punctuation">(</span>baz<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// true</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token class-name">Object</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function">isPrototypeOf</span><span class="token punctuation">(</span>baz<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// true</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></li>
</ul>
<hr>
<ul>
<li>propertyIsEnumerable<br>è¿”å›ä¸€ä¸ªå¸ƒå°”å€¼ï¼Œè¡¨ç¤ºæŒ‡å®šçš„å±æ€§æ˜¯å¦å¯æšä¸¾ã€‚</li>
</ul>
<hr>
<ul>
<li>toString<blockquote>
<p>åŠŸèƒ½ï¼šè¿”å›ä¸€ä¸ªè¡¨ç¤ºè¯¥å¯¹è±¡çš„å­—ç¬¦ä¸²ã€‚<br>è¿”å›å€¼ï¼š<code>String</code>ä¸€ä¸ªè¡¨ç¤ºè¯¥å¯¹è±¡çš„å­—ç¬¦ä¸²ã€‚</p>
</blockquote>
<pre class="line-numbers language-javascript" data-language="javascript"><code class="language-javascript"><span class="token keyword">function</span> <span class="token function">Dog</span><span class="token punctuation">(</span><span class="token parameter">name</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
  <span class="token keyword">this</span><span class="token punctuation">.</span>name <span class="token operator">=</span> name<span class="token punctuation">;</span>
<span class="token punctuation">&#125;</span>

<span class="token keyword">const</span> dog1 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Dog</span><span class="token punctuation">(</span><span class="token string">'Gabby'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token class-name">Dog</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function-variable function">toString</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token function">dogToString</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
  <span class="token keyword">return</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">$&#123;</span><span class="token keyword">this</span><span class="token punctuation">.</span>name<span class="token interpolation-punctuation punctuation">&#125;</span></span><span class="token template-punctuation string">`</span></span><span class="token punctuation">;</span>
<span class="token punctuation">&#125;</span><span class="token punctuation">;</span>

console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>dog1<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// expected output: "Gabby"</span>
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></li>
</ul>
<hr>
<ul>
<li>toLocaleString<br>è¿”å›ä¸€ä¸ªè¯¥å¯¹è±¡çš„å­—ç¬¦ä¸²è¡¨ç¤ºã€‚</li>
</ul>
<hr>
]]></content>
      <categories>
        <category>javascript</category>
      </categories>
      <tags>
        <tag>Object</tag>
      </tags>
  </entry>
  <entry>
    <title>å¼‚æ­¥ç¼–ç¨‹</title>
    <url>/blog/javascript/yi-bu-bian-cheng/</url>
    <content><![CDATA[<h2 id="å«ä¹‰"><a href="#å«ä¹‰" class="headerlink" title="å«ä¹‰"></a>å«ä¹‰</h2><blockquote>
<p>ä¸é˜»å¡ä¸»çº¿ç¨‹ä¸”ä»£ç åŒæ—¶è¿è¡Œ</p>
</blockquote>
<h2 id="å›è°ƒå‡½æ•°"><a href="#å›è°ƒå‡½æ•°" class="headerlink" title="å›è°ƒå‡½æ•°"></a>å›è°ƒå‡½æ•°</h2><blockquote>
<p>å°†ä¸€ä¸ªå¼‚æ­¥æ”¾åœ¨å¦ä¸€ä¸ªå¼‚æ­¥æ‰§è¡Œå®Œæˆçš„å›è°ƒä¸­æ‰§è¡Œï¼Œé€ æˆå¤šå±‚åµŒå¥—ï¼Œç§°ä¸ºå›è°ƒåœ°ç‹±</p>
</blockquote>
<pre class="line-numbers language-javascript" data-language="javascript"><code class="language-javascript"><span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">&#123;</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">"first 3s"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">&#123;</span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">"second 3s"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">&#123;</span>
            console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">"third 3s"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">&#125;</span><span class="token punctuation">,</span> <span class="token number">3000</span><span class="token punctuation">)</span>
    <span class="token punctuation">&#125;</span><span class="token punctuation">,</span> <span class="token number">3000</span><span class="token punctuation">)</span>
<span class="token punctuation">&#125;</span><span class="token punctuation">,</span> <span class="token number">3000</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<h2 id="promise"><a href="#promise" class="headerlink" title="promise"></a>promise</h2><blockquote>
<p>promiseé‡‡ç”¨çš„æ˜¯é“¾å¼è°ƒç”¨ï¼Œæ¯æ®µé“¾ä¸­çš„å‚æ•°éƒ½æ˜¯ä¸Šä¸€æ®µé“¾çš„è¿”å›å€¼</p>
</blockquote>
<pre class="line-numbers language-javascript" data-language="javascript"><code class="language-javascript"><span class="token keyword">new</span> <span class="token class-name">Promise</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">resolve<span class="token punctuation">,</span> reject</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">&#123;</span>
    <span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">&#123;</span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">"task1 å¼‚æ­¥"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token function">resolve</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span>
    <span class="token punctuation">&#125;</span><span class="token punctuation">,</span> <span class="token number">2000</span><span class="token punctuation">)</span>
<span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token parameter">value</span> <span class="token operator">=></span> <span class="token punctuation">&#123;</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">"task2 åŒæ­¥"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">"task1 result="</span> <span class="token operator">+</span> value<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">return</span> <span class="token number">2</span>
<span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token parameter">value</span> <span class="token operator">=></span> <span class="token punctuation">&#123;</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">"task3 å¼‚æ­¥"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">"task2 result="</span> <span class="token operator">+</span> value<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">Promise</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">resolve<span class="token punctuation">,</span> reject</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">&#123;</span>
        <span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">&#123;</span>
            <span class="token function">resolve</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">)</span>
        <span class="token punctuation">&#125;</span><span class="token punctuation">,</span> <span class="token number">3000</span><span class="token punctuation">)</span>
    <span class="token punctuation">&#125;</span><span class="token punctuation">)</span>
<span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token parameter">value</span> <span class="token operator">=></span> <span class="token punctuation">&#123;</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">"task4"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">"task3 result="</span> <span class="token operator">+</span> value<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">catch</span><span class="token punctuation">(</span><span class="token parameter">error</span> <span class="token operator">=></span> <span class="token punctuation">&#123;</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>error<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">finally</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">&#123;</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">"finally"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>


<h2 id="async-x2F-await"><a href="#async-x2F-await" class="headerlink" title="async&#x2F;await"></a>async&#x2F;await</h2><blockquote>
<p>promiseçš„è¯­æ³•ç³–<br>ä½¿ç”¨asyncå°†å‡½æ•°æ ‡è®°ä¸ºå¼‚æ­¥å‡½æ•°ï¼Œè¯¥å‡½æ•°è¿”å›å€¼ä¸ºPromiseå¯¹è±¡<br>åœ¨è¯¥å‡½æ•°ä¸­ä½¿ç”¨awaitæ ‡è®°å¦ä¸€ä¸ªå¼‚æ­¥å‡½æ•°ï¼Œè¢«æ ‡è®°å‡½æ•°æ‰§è¡Œå®Œè¿”å›ç»“æœåï¼Œæ‰ä¼šæ‰§è¡Œè¢«æ ‡è®°å‡½æ•°ä¹‹åçš„ä»£ç </p>
</blockquote>
<pre class="line-numbers language-javascript" data-language="javascript"><code class="language-javascript">
<span class="token keyword">async</span> <span class="token keyword">function</span> <span class="token function">fun1</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>
    <span class="token keyword">const</span> f1 <span class="token operator">=</span> Promise<span class="token punctuation">.</span><span class="token function">resolve</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    f1<span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token parameter">data</span><span class="token operator">=></span><span class="token punctuation">&#123;</span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>data<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">&#125;</span><span class="token punctuation">)</span>
    <span class="token comment">// awaitçš„ä½œç”¨ç›¸å½“äºPromise.resolve().then()</span>
    <span class="token keyword">const</span> data <span class="token operator">=</span> <span class="token keyword">await</span> f1<span class="token punctuation">;</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>data<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">&#125;</span>
<span class="token function">fun1</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

<span class="token keyword">async</span> <span class="token keyword">function</span> <span class="token function">fun2</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>
    <span class="token keyword">const</span> data <span class="token operator">=</span> <span class="token keyword">await</span> <span class="token number">2</span><span class="token punctuation">;</span> <span class="token comment">// await Promise.resolve(2)</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>data<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">&#125;</span>
<span class="token function">fun2</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>]]></content>
      <categories>
        <category>javascript</category>
      </categories>
      <tags>
        <tag>promise</tag>
        <tag>å›è°ƒå‡½æ•°</tag>
        <tag>async</tag>
        <tag>await</tag>
      </tags>
  </entry>
  <entry>
    <title>å¾®ä»»åŠ¡å’Œå®ä»»åŠ¡</title>
    <url>/blog/javascript/wei-ren-wu-he-hong-ren-wu/</url>
    <content><![CDATA[<h2 id="åŒæ­¥ä»»åŠ¡å’Œå¼‚æ­¥ä»»åŠ¡"><a href="#åŒæ­¥ä»»åŠ¡å’Œå¼‚æ­¥ä»»åŠ¡" class="headerlink" title="åŒæ­¥ä»»åŠ¡å’Œå¼‚æ­¥ä»»åŠ¡"></a>åŒæ­¥ä»»åŠ¡å’Œå¼‚æ­¥ä»»åŠ¡</h2><ul>
<li><p>åŒæ­¥ä»»åŠ¡ï¼š</p>
<blockquote>
<p>ç›´æ¥è¿›å…¥æ‰§è¡Œæ ˆä¸­æ‰§è¡Œ</p>
</blockquote>
</li>
<li><p>å¼‚æ­¥ä»»åŠ¡ï¼š</p>
<blockquote>
<p>è¿›å…¥ä»»åŠ¡é˜Ÿåˆ—ï¼Œå½“æ‰§è¡Œæ ˆä¸­ä»»åŠ¡æ¸…ç©ºæ—¶ï¼Œå†ä¾æ¬¡è¿›å…¥æ‰§è¡Œæ ˆä¸­æ‰§è¡Œ<br>å¾®ä»»åŠ¡å’Œå®ä»»åŠ¡éƒ½å±äºå¼‚æ­¥ä»»åŠ¡</p>
</blockquote>
</li>
</ul>
<h2 id="å¾®ä»»åŠ¡"><a href="#å¾®ä»»åŠ¡" class="headerlink" title="å¾®ä»»åŠ¡"></a>å¾®ä»»åŠ¡</h2><blockquote>
<p>ç”± JS è‡ªèº«å‘èµ·<br>åŒ…å«ï¼š</p>
</blockquote>
<ul>
<li>Promise.[then&#x2F;catch&#x2F;finally]</li>
<li>MutationObserverï¼ˆæµè§ˆå™¨ç¯å¢ƒï¼‰</li>
<li>process.nextTickï¼ˆNodeç¯å¢ƒï¼‰</li>
</ul>
<h2 id="å®ä»»åŠ¡"><a href="#å®ä»»åŠ¡" class="headerlink" title="å®ä»»åŠ¡"></a>å®ä»»åŠ¡</h2><blockquote>
<p>ç”±å®¿ä¸»ï¼ˆæµè§ˆå™¨ã€Nodeï¼‰å‘èµ·çš„<br>åŒ…å«ï¼š</p>
</blockquote>
<ul>
<li>setTimeout</li>
<li>setInterval</li>
<li>I&#x2F;O</li>
<li>scriptï¼ˆæ•´ä½“ä»£ç å—ï¼‰</li>
</ul>
<h2 id="ç¤ºä¾‹"><a href="#ç¤ºä¾‹" class="headerlink" title="ç¤ºä¾‹"></a>ç¤ºä¾‹</h2><ol>
<li><p>ä¸»çº¿ç¨‹ä¸Šå®ä»»åŠ¡ã€å¾®ä»»åŠ¡æ‰§è¡Œé¡ºåº</p>
<pre class="line-numbers language-javascript" data-language="javascript"><code class="language-javascript">console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'---start---'</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//ç¬¬ä¸€è½®ä¸»çº¿ç¨‹</span>
 
<span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">&#123;</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'setTimeout'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">// å°†å›è°ƒä»£ç æ”¾å…¥ä¸ªå®ä»»åŠ¡é˜Ÿåˆ—ï¼Œç¬¬äºŒè½®å®ä»»åŠ¡æ‰§è¡Œ</span>
<span class="token punctuation">&#125;</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
 
<span class="token keyword">new</span> <span class="token class-name">Promise</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">resolve<span class="token punctuation">,</span> reject</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">&#123;</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'---Promiseç¬¬ä¸€è½®å¾®ä»»åŠ¡åŒæ­¥æ‰§è¡Œ---'</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//ç¬¬ä¸€è½®å¾®ä»»åŠ¡åŒæ­¥æ‰§è¡Œ</span>
  <span class="token function">resolve</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">=></span><span class="token punctuation">&#123;</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'Promise.thenå®ä¾‹æˆåŠŸå›è°ƒæ‰§è¡Œ'</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// å°†å›è°ƒä»£ç æ”¾å…¥å¾®ä»»åŠ¡é˜Ÿåˆ—ï¼Œç¬¬ä¸€è½®å®ä»»åŠ¡æ‰§è¡Œå®Œåç«‹å³æ‰§è¡Œ</span>
<span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
 
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'---end---'</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//ç¬¬ä¸€è½®ä¸»çº¿ç¨‹ç»“æŸ</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>æ‰§è¡Œé¡ºåºï¼šä¸»çº¿ç¨‹ &gt;&gt; ä¸»çº¿ç¨‹ä¸Šåˆ›å»ºçš„å¾®ä»»åŠ¡ &gt;&gt; ä¸»çº¿ç¨‹ä¸Šåˆ›å»ºçš„å®ä»»åŠ¡</p>
<pre class="line-numbers language-javascript" data-language="javascript"><code class="language-javascript"><span class="token operator">--</span><span class="token operator">-</span>start<span class="token operator">--</span><span class="token operator">-</span>
<span class="token operator">--</span><span class="token operator">-</span>Promiseç¬¬ä¸€è½®å¾®ä»»åŠ¡åŒæ­¥æ‰§è¡Œ<span class="token operator">--</span><span class="token operator">-</span>
<span class="token operator">--</span><span class="token operator">-</span>end<span class="token operator">--</span><span class="token operator">-</span>
Promise<span class="token punctuation">.</span>thenå®ä¾‹æˆåŠŸå›è°ƒæ‰§è¡Œ
setTimeout<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre>
</li>
<li><p>å®ä»»åŠ¡ä¸­åŒ…å«å¾®ä»»åŠ¡</p>
<pre class="line-numbers language-javascript" data-language="javascript"><code class="language-javascript"><span class="token comment">// å®ä»»åŠ¡é˜Ÿåˆ— 1</span>
<span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">&#123;</span>
  <span class="token comment">// å®ä»»åŠ¡é˜Ÿåˆ— 2.1</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'timer_1'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">&#123;</span>
    <span class="token comment">// å®ä»»åŠ¡é˜Ÿåˆ— 3</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'timer_3'</span><span class="token punctuation">)</span>
  <span class="token punctuation">&#125;</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span>
  <span class="token keyword">new</span> <span class="token class-name">Promise</span><span class="token punctuation">(</span><span class="token parameter">resolve</span> <span class="token operator">=></span> <span class="token punctuation">&#123;</span>
    <span class="token function">resolve</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'new promise'</span><span class="token punctuation">)</span>
  <span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">&#123;</span>
    <span class="token comment">// å¾®ä»»åŠ¡é˜Ÿåˆ— 1</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'promise then'</span><span class="token punctuation">)</span>
  <span class="token punctuation">&#125;</span><span class="token punctuation">)</span>
<span class="token punctuation">&#125;</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span>
 
<span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">&#123;</span>
  <span class="token comment">// å®ä»»åŠ¡é˜Ÿåˆ— 2.2</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'timer_2'</span><span class="token punctuation">)</span>
<span class="token punctuation">&#125;</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'========== Sync queue =========='</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>æ‰§è¡Œé¡ºåºï¼šä¸»çº¿ç¨‹ &gt;&gt; ä¸»çº¿ç¨‹ä¸Šçš„å®ä»»åŠ¡é˜Ÿåˆ—1 &gt;&gt; å®ä»»åŠ¡é˜Ÿåˆ—1ä¸­åˆ›å»ºçš„å¾®ä»»åŠ¡</p>
<pre class="line-numbers language-javascript" data-language="javascript"><code class="language-javascript"><span class="token operator">===</span><span class="token operator">===</span><span class="token operator">===</span><span class="token operator">=</span> Sync queue <span class="token operator">===</span><span class="token operator">===</span><span class="token operator">===</span><span class="token operator">=</span>
<span class="token number">1</span> timer_1
<span class="token number">2</span> <span class="token keyword">new</span> <span class="token class-name">promise</span>
<span class="token number">3</span> promise then
<span class="token number">4</span> timer_2
<span class="token number">5</span> timer_3<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<pre class="line-numbers language-javascript" data-language="javascript"><code class="language-javascript"><span class="token keyword">async</span> <span class="token keyword">function</span> <span class="token function">async1</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'async1 start'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">await</span> <span class="token function">async2</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'async1 end'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">&#125;</span>
<span class="token keyword">async</span> <span class="token keyword">function</span> <span class="token function">async2</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'async2'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">&#125;</span>

console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'script start'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'setTimeout'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">&#125;</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span>

<span class="token function">async1</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">new</span> <span class="token class-name">Promise</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">resolve</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'promise1'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">resolve</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'promise2'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'script end'</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<pre class="line-numbers language-javascript" data-language="javascript"><code class="language-javascript">script start
async1 start
async2
promise1
script end
async1 end
promise2
setTimeout<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></li>
</ol>
<p><a href="https://www.bilibili.com/video/BV1eQ4y1d7mE?spm_id_from=333.999.0.0">https://www.bilibili.com/video/BV1eQ4y1d7mE?spm_id_from=333.999.0.0</a><br><a href="https://www.bilibili.com/video/BV1kf4y1U7Ln/?spm_id_from=333.788.recommend_more_video.3&amp;vd_source=bc1cbddb54772ff898b8cee9d8b96dc3">https://www.bilibili.com/video/BV1kf4y1U7Ln/?spm_id_from=333.788.recommend_more_video.3&amp;vd_source=bc1cbddb54772ff898b8cee9d8b96dc3</a></p>
]]></content>
      <categories>
        <category>javascript</category>
      </categories>
      <tags>
        <tag>å¾®ä»»åŠ¡å’Œå®ä»»åŠ¡</tag>
      </tags>
  </entry>
  <entry>
    <title>æ•°ç»„æ“ä½œ</title>
    <url>/blog/javascript/shu-zu-cao-zuo/</url>
    <content><![CDATA[]]></content>
  </entry>
  <entry>
    <title>é—­åŒ…</title>
    <url>/blog/javascript/bi-bao/</url>
    <content><![CDATA[<h2 id="æ¦‚å¿µ"><a href="#æ¦‚å¿µ" class="headerlink" title="æ¦‚å¿µ"></a>æ¦‚å¿µ</h2><p>å¯ä»¥è¯»å–åˆ°å…¶ä»–å‡½æ•°å†…éƒ¨å˜é‡çš„å‡½æ•°ï¼Œè®©è¿™ä¸ªå†…éƒ¨å˜é‡å§‹ç»ˆä¿æŒåœ¨å†…å­˜ä¸­ï¼Œè¿‡åº¦ä½¿ç”¨ä¼šé€ æˆå†…å­˜æ³„æ¼</p>
<h2 id="ä»£ç ç¤ºä¾‹"><a href="#ä»£ç ç¤ºä¾‹" class="headerlink" title="ä»£ç ç¤ºä¾‹"></a>ä»£ç ç¤ºä¾‹</h2><pre class="line-numbers language-javascript" data-language="javascript"><code class="language-javascript"><span class="token keyword">function</span> <span class="token function">f1</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
    <span class="token keyword">var</span> a <span class="token operator">=</span> <span class="token number">1</span>
    <span class="token keyword">return</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
        <span class="token keyword">return</span> a
    <span class="token punctuation">&#125;</span>
<span class="token punctuation">&#125;</span>
<span class="token keyword">let</span> b <span class="token operator">=</span> <span class="token function">f1</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<h2 id="è®²è§£"><a href="#è®²è§£" class="headerlink" title="è®²è§£"></a>è®²è§£</h2><pre class="line-numbers language-javascript" data-language="javascript"><code class="language-javascript"><span class="token keyword">var</span> n <span class="token operator">=</span> <span class="token number">10</span>
<span class="token keyword">function</span> <span class="token function">fn</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
    <span class="token keyword">var</span> n <span class="token operator">=</span> <span class="token number">20</span>
    <span class="token keyword">function</span> <span class="token function">f</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
        n<span class="token operator">++</span><span class="token punctuation">;</span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>n<span class="token punctuation">)</span>
    <span class="token punctuation">&#125;</span>
    <span class="token function">f</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token keyword">return</span> f
<span class="token punctuation">&#125;</span>

<span class="token keyword">var</span> x <span class="token operator">=</span> <span class="token function">fn</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token function">x</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token function">x</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>n<span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<ul>
<li>å…¨å±€æ‰§è¡Œä¸Šä¸‹æ–‡ &#x3D; {ä½œç”¨åŸŸé“¾ï¼š{å…¨å±€å˜é‡å¯¹è±¡}ï¼Œ{å˜é‡å¯¹è±¡ï¼šn&#x3D;10,fn,x}}</li>
<li>fnæ‰§è¡Œä¸Šä¸‹æ–‡ &#x3D; {ä½œç”¨åŸŸé“¾ï¼š{fn + å…¨å±€å˜é‡å¯¹è±¡}ï¼Œ{å˜é‡å¯¹è±¡ï¼šn&#x3D;20ï¼Œf}}</li>
<li>fæ‰§è¡Œä¸Šä¸‹æ–‡ &#x3D; {ä½œç”¨åŸŸé“¾ï¼š{f + fn + å…¨å±€å˜é‡å¯¹è±¡}ï¼Œ{å˜é‡å¯¹è±¡ï¼š}}<blockquote>
<p><code>var x = fn()</code>ä¸­æ‰§è¡Œäº†ä¸€æ¬¡fnå‡½æ•°ï¼Œfnä¸­çš„f()åŒæ—¶æ‰§è¡Œï¼Œfä¸­çš„nè·å–åˆ°çš„æ—¶fnåŸŸä¸­çš„n&#x3D;20ï¼Œå› æ­¤è¯¥è¯­å¥æ‰§è¡Œå®Œåå¯å¾—ä»¥ä¸‹ç»“æœï¼š<br><code>x = function f() &#123;   n++;   console.log(n)   &#125;</code><br><code>fnä¸­çš„å˜é‡n=21ï¼Œæ­¤æ—¶è¯¥å˜é‡ç”±äºå…¨å±€ç¯å¢ƒçš„å¼•ç”¨ï¼Œå¹¶ä¸ä¼šé‡Šæ”¾</code><br><code>x()</code>å³å°†fnä¸­çš„å˜é‡n&#x3D;21å†æ¬¡æ‰§è¡Œn++æ“ä½œ<br><code>console.log(n)</code>æ‰§è¡Œç¯å¢ƒçš„å˜é‡å¯¹è±¡ä¸ºæœ€å¼€å§‹çš„n&#x3D;10</p>
</blockquote>
</li>
</ul>
<pre class="line-numbers language-javascript" data-language="javascript"><code class="language-javascript"><span class="token comment">// æœ€ç»ˆç»“æœä¸ºï¼š</span>
<span class="token number">21</span>
<span class="token number">22</span>
<span class="token number">23</span>
<span class="token number">10</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre>



]]></content>
      <categories>
        <category>javascript</category>
      </categories>
      <tags>
        <tag>é—­åŒ…</tag>
      </tags>
  </entry>
  <entry>
    <title>æ·±æ‹·è´å’Œæµ…æ‹·è´</title>
    <url>/blog/javascript/shen-kao-bei-he-qian-kao-bei/</url>
    <content><![CDATA[]]></content>
      <categories>
        <category>javascript</category>
      </categories>
      <tags>
        <tag>æ·±æ‹·è´å’Œæµ…æ‹·è´</tag>
      </tags>
  </entry>
  <entry>
    <title>é˜²æŠ–å’ŒèŠ‚æµ</title>
    <url>/blog/javascript/fang-dou-he-jie-liu/</url>
    <content><![CDATA[<h2 id="é˜²æŠ–"><a href="#é˜²æŠ–" class="headerlink" title="é˜²æŠ–"></a>é˜²æŠ–</h2><blockquote>
<p>n ç§’ååœ¨æ‰§è¡Œè¯¥äº‹ä»¶ï¼Œè‹¥åœ¨ n ç§’å†…è¢«é‡å¤è§¦å‘ï¼Œåˆ™é‡æ–°è®¡æ—¶<br>å¦‚ï¼šè§„å®š4å°æ—¶åƒä¸€æ¬¡é¥­ï¼Œä»ç¬¬ä¸€æ¬¡åŠ¨ç­·å­çš„æ—¶å€™ä¸€ç›´æ²¡åœï¼Œé‚£ä¹ˆç›´åˆ°æ”¾ä¸‹ç­·å­æ—¶ï¼Œæ‰ä¼šå¼€å§‹è®¡ç®—4ä¸ªå°æ—¶åçš„ä¸‹ä¸€é¤åƒé¥­æ—¶é—´ã€‚</p>
</blockquote>
<pre class="line-numbers language-javascript" data-language="javascript"><code class="language-javascript"><span class="token keyword">function</span> <span class="token function">debounce</span><span class="token punctuation">(</span><span class="token parameter">func<span class="token punctuation">,</span>delay</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
    <span class="token keyword">let</span> timer<span class="token punctuation">;</span>
    <span class="token keyword">return</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>
        <span class="token keyword">let</span> _this <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">;</span>
        <span class="token function">clearTimeout</span><span class="token punctuation">(</span>timer<span class="token punctuation">)</span><span class="token punctuation">;</span>
        timer <span class="token operator">=</span> <span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">&#123;</span>
            <span class="token function">func</span><span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span>_this<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">&#125;</span><span class="token punctuation">,</span> delay<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">&#125;</span>
<span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<h2 id="èŠ‚æµ"><a href="#èŠ‚æµ" class="headerlink" title="èŠ‚æµ"></a>èŠ‚æµ</h2><blockquote>
<p>n ç§’å†…åªè¿è¡Œä¸€æ¬¡ï¼Œè‹¥åœ¨ n ç§’å†…é‡å¤è§¦å‘ï¼Œåªæœ‰ä¸€æ¬¡ç”Ÿæ•ˆ<br>å¦‚ï¼šè§„å®š4å°æ—¶åƒä¸€æ¬¡é¥­ï¼Œä»ç¬¬ä¸€æ¬¡åŠ¨ç­·å­çš„æ—¶å€™å°±å¼€å§‹è®¡æ—¶ä¸‹æ¬¡åƒé¥­çš„æ—¶é—´ï¼Œå³ä½¿è¿™é¤é¥­åƒäº†4ä¸ªå°æ—¶ï¼Œä¸‹ä¸€é¤é¥­åˆ°äº†ç‚¹åˆä¼šå¼€å§‹åƒä¸€æ¬¡ã€‚</p>
</blockquote>
<pre class="line-numbers language-javascript" data-language="javascript"><code class="language-javascript"><span class="token keyword">function</span> <span class="token function">throttle</span><span class="token punctuation">(</span><span class="token parameter">func<span class="token punctuation">,</span>delay</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
    <span class="token keyword">let</span> timer<span class="token punctuation">;</span>
    <span class="token keyword">return</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>
        <span class="token keyword">let</span> _this <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">;</span>
        <span class="token keyword">if</span><span class="token punctuation">(</span>timer<span class="token punctuation">)</span><span class="token punctuation">&#123;</span>
            <span class="token keyword">return</span><span class="token punctuation">;</span>
        <span class="token punctuation">&#125;</span>
        timer <span class="token operator">=</span> <span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">&#123;</span>
            <span class="token function">func</span><span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span>_this<span class="token punctuation">)</span><span class="token punctuation">;</span>
            timer <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
        <span class="token punctuation">&#125;</span><span class="token punctuation">,</span> delay<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">&#125;</span>
<span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>]]></content>
      <categories>
        <category>javascript</category>
      </categories>
      <tags>
        <tag>é˜²æŠ–</tag>
        <tag>èŠ‚æµ</tag>
      </tags>
  </entry>
</search>
